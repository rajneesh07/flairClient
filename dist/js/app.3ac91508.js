(function(t){function e(e){for(var s,l,i=e[0],r=e[1],c=e[2],u=0,m=[];u<i.length;u++)l=i[u],Object.prototype.hasOwnProperty.call(o,l)&&o[l]&&m.push(o[l][0]),o[l]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);d&&d(e);while(m.length)m.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],s=!0,i=1;i<n.length;i++){var r=n[i];0!==o[r]&&(s=!1)}s&&(a.splice(e--,1),t=l(l.s=n[0]))}return t}var s={},o={app:0},a=[];function l(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=t,l.c=s,l.d=function(t,e,n){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)l.d(n,s,function(e){return t[e]}.bind(null,s));return n},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],r=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var d=r;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"012a":function(t,e,n){},"034f":function(t,e,n){"use strict";var s=n("85ec"),o=n.n(s);o.a},"09e0":function(t,e,n){},"0ec2":function(t,e,n){},"13d0":function(t,e,n){"use strict";var s=n("c0da"),o=n.n(s);o.a},"14d9":function(t){t.exports=JSON.parse('{"FLAIR_AWS_PORT":8080,"FLAIR_SERVER_URL":"http://192.168.110.99:9092","SERVER_TIMEOUT_MS":20000,"CRM_URL":"http://localhost:9527/#/dashboard","CRM_TIMEOUT_MS":10000,"AGS":{"MIDDLEWARE":{"URL":"http://localhost:9093","TIMEOUT":15000}},"defaultAuxCodes":[{"label":"Ready","state":4,"userSelectable":true,"reasonCode":null},{"label":"After Call Work","state":5,"userSelectable":false,"reasonCode":null},{"label":"Work Ready","state":6,"userSelectable":false,"reasonCode":null},{"label":"Busy","state":7,"userSelectable":false,"reasonCode":null}],"agentAuxCodes":[{"label":"Ready","state":4,"reasonCode":null},{"label":"Not Ready","state":3,"reasonCode":0},{"label":"Lunch","state":3,"reasonCode":2},{"label":"Dinner","state":3,"reasonCode":3}],"agentReasonCodeList":[{"reasonCode":0,"reasonLabel":"Not Ready"},{"reasonCode":2,"reasonLabel":"Lunch"},{"reasonCode":3,"reasonLabel":"Dinner"}],"rightComponents":{"width":"2","widgets":[{"name":"sms-helper"},{"name":"quick-links"}]},"middleComponents":{"width":"10","widgets":[{"name":"crm-frame"}]},"leftComponents":{"width":"0","widgets":[]}}')},"16fd":function(t,e,n){"use strict";var s=n("dad3"),o=n.n(s);o.a},"19d7":function(t,e,n){},"19e5":function(t,e,n){},"1d83":function(t,e,n){"use strict";var s=n("b191"),o=n.n(s);o.a},"2af9":function(t,e,n){"use strict";var s=n("fe90"),o=n.n(s);o.a},"2b56":function(t,e,n){"use strict";var s=n("09e0"),o=n.n(s);o.a},"2da5":function(t,e,n){t.exports=n.p+"img/flair_logo_white.01b7801d.png"},"47a1":function(t,e,n){"use strict";var s=n("60d2"),o=n.n(s);o.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("cabf");var s=n("2b0e"),o=n("2f62"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex flex-column"},[n("div",{ref:"topNavBar"},[t.isAgentLoggedIn?n("top-navbar",{}):t._e()],1),n("main",{staticClass:"d-flex flex-fill main-body pt-5 mt-5"},[t.isAgentLoggedIn?n("router-view",{}):n("login-page",{staticClass:"flex-fill pt-4"})],1),n("bottom-footer"),n("notifications",{attrs:{group:"warning",width:"500",position:"bottom center",ignoreDuplicates:!0}}),n("notifications",{attrs:{group:"info",width:"500",position:"bottom center",ignoreDuplicates:!0}}),n("notifications",{attrs:{group:"error",width:"500",position:"bottom center",ignoreDuplicates:!0,classes:"vue-notification "}})],1)},l=[],i=n("91c9"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("mdb-navbar",{staticClass:"special-color white-text flexible-navbar fl_topNav",attrs:{position:"top",navIconClass:"white-text"}},[s("mdb-navbar-brand",{attrs:{href:"/",target:"_blank"}},[s("div",{staticClass:"light-color",staticStyle:{opacity:"1"}},[s("img",{staticClass:"mx-5",staticStyle:{width:"75px",opacity:"1 !important"},attrs:{src:n("2da5"),alt:"Responsive image"}})])]),s("mdb-navbar-nav",{attrs:{right:""}},[s("span",{staticClass:"fl_navbar_item"},[s("agent-state-control")],1),s("span",{staticClass:"fl_navbar_item"},[s("agent-profile")],1)])],1)},c=[],d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"form form-inline d-flex align-items-center",attrs:{id:"fl_agent_state_dropdown"},on:{submit:function(t){t.preventDefault()}}},[n("mdb-dropdown",{staticClass:"mx-auto"},[n("a",{staticClass:"dropdown-toggle-a primary-text",attrs:{slot:"toggle"},slot:"toggle"},[n("mdb-icon",{staticClass:"mr-2",class:t.agentStateIndicatorColor(t.currentAgentAuxState.state),attrs:{icon:"circle"}}),t._v(" "+t._s(t.currentAgentAuxState.label)+" ")],1),n("mdb-dropdown-menu",{attrs:{left:""}},t._l(t.auxCodes,(function(e,s){return n("mdb-dropdown-item",{key:t.auxCodes.id,staticClass:"p-0 fl_dropdown_item"},[!0===e.userSelectable?n("div",{staticClass:"p-2",on:{click:function(n){return t.onAgentStateDropDownChanged(e)}}},[n("mdb-icon",{staticClass:"mr-1",class:t.agentStateIndicatorColor(e.state),attrs:{icon:"circle"}}),n("span",[t._v(t._s(e.label))])],1):t._e()])})),1)],1)],1)},u=[],m=(n("dca8"),Object.freeze({UNKNOWN:0,LOG_IN:1,LOG_OUT:2,NOT_READY:3,READY:4,WORK_NOT_READY:5,WORK_READY:6,BUSY:7,Text:{0:"UNKNOWN",1:"LOG_IN",2:"LOG_OUT",3:"NOT_READY",4:"READY",5:"WORK_NOT_READY",6:"WORK_READY",7:"BUSY"}})),C=(Object.freeze({SUCCESS:"0"}),Object.freeze({STOP:0,START:1,PAUSE:2,RESET:3})),g=Object.freeze({UP:"UP",DOWN:"DOWN"}),f=Object.freeze({CALL_TIMER:"CT",IN_STATE_TIMER:"ST"}),p=Object.freeze({IDLE:"96",RINGING:"97",TALKING:"98",HELD:"99",BRIDGED:"100",INUSE:"101",DROPPED:"102",UNKNOWN:"103",CREATED:"106",Text:{96:"IDLE",97:"RINGING",98:"TALKING",99:"HELD",100:" BRIDGED",101:"INUSE",102:"DROPPED",103:"UNKNOWN",106:"CREATED"}}),h=Object.freeze({INBOUND:"1",CONSULTED:"2",OUTBOUND:"3",UNKNOWN:"99"}),b=Object.freeze({SINGLE:"1",CONSULTED:"2",TRANSFERED:"3",CONFERENCED:"4"}),_=Object.freeze({CONNECTED:"CONNECTED",CONNECTING:"CONNECTING",DISCONNECTED:"DISCONNECTED"}),T=(Object.freeze({CTRL_REQ:"ZC",CTRL_RES:"ZR",TELE_CMD:"TC",TELE_RES:"TR",EVNT_CMD:"EC",EVNT_RES:"ER"}),Object.freeze({GET_SESSION:"GETSESSION",END_SESSION:"ENDSESSION",CHECK_SESSION:"CHECKSESSION",REJOIN_SESSION:"REJOINSESSION",MONITOR_STATION:"MONDEV",MONITOR_END:"MONEND",MAKE_CALL:"MAKECALL",ANSWER_CALL:"ANSCALL",REJECT_CALL:"REJCALL",DROP_CALL:"CONNCLR",HOLD_CALL:"HOLDCALL",RETRIEVE_CALL:"RETRCALL",CONSULT_CALL:"CONSTCALL",RECONNECT_CALL:"RECONCALL",TRANSFER_CALL:"XFERCALL",CONFERENCE_CALL:"CONFCALL",AGENT_LOGIN:"AGTLOGON",AGENT_LOGOFF:"AGTLOGOFF",SET_AGENT_STATE:"SETAGTSTATE",QUERY_AGENT_STATE:"QRYAGTSTATE",QUERY_AGENT_LOGIN:"QRYAGTLOGIN",GET_ACTIVE_CALLS:"ACTVCALLS",INCOMING_CALL_RINGING:"ICALLRING",INCOMING_CALL_DISCONNECTED:"ICALLDISC",INCOMING_CALL_TALKING:"ICALLTALK",INCOMING_CALL_HELD:"ICALLHLD",OUTGOING_CALL_RINGING:"CONCALLRING",OUTGOING_CALL_DISCONNECTED:"CONCALLDISC",OUTGOING_CALL_TALKING:"CONCALLTALK",CALL_CONFERENCED:"CALLCONF",CONFERENCED_CALL_DISCONNECTED:"CONFCALLDISC",AGENT_STATE_UPDATED:"AGTUPDATED"})),S={name:"AgentStateControl",components:{mdbRow:i["mdbRow"],mdbCol:i["mdbCol"],mdbContainer:i["mdbContainer"],mdbBtn:i["mdbBtn"],mdbCard:i["mdbCard"],mdbCardBody:i["mdbCardBody"],mdbCardHeader:i["mdbCardHeader"],mdbCardText:i["mdbCardText"],mdbIcon:i["mdbIcon"],mdbTbl:i["mdbTbl"],mdbDropdown:i["mdbDropdown"],mdbDropdownToggle:i["mdbDropdownToggle"],mdbDropdownItem:i["mdbDropdownItem"],mdbDropdownMenu:i["mdbDropdownMenu"]},props:{},data:function(){return{auxCodes:this.$store.getters.getFullAuxCodeList}},methods:{onAgentStateDropDownChanged:function(t){var e=this;switch(console.log("onAgentStateDropDownChanged(): method entered. selectedAuxCode="+JSON.stringify(t)),t.state){case m.READY:case m.NOT_READY:this.$store.dispatch("sendAgentStateRequest",t).then((function(n){"0"===n.responseCode&&e.$store.commit("SET_AGENT_AUX_CODE",t)}));break;default:}},agentStateIndicatorColor:function(t){if(t)switch(t){case m.READY:return"green-text";case m.NOT_READY:return"red-text";case m.BUSY:return"amber-text";case m.WORK_NOT_READY:case m.LOG_IN:return"blue-text"}}},computed:{currentAgentAuxState:function(){return this.$store.getters.getAgentAuxState}}},I=S,v=(n("df94"),n("2877")),A=Object(v["a"])(I,d,u,!1,null,"4ee6313f",null),E=A.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mdb-dropdown",{staticClass:"d-flex align-items-center"},[n("a",{staticClass:"dropdown-toggle-a unique-color-text",attrs:{slot:"toggle"},slot:"toggle"},[n("strong",[n("mdb-icon",{staticClass:"mr-2",attrs:{icon:"user",size:"1x"}}),n("span",{staticClass:"h6"},[t._v("Agent "+t._s(t.agentCredentials.agentId))])],1)]),n("mdb-dropdown-menu",{attrs:{right:""}},[n("mdb-dropdown-item",[n("li",[n("div",{staticClass:"navbar-login"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-lg-4"},[n("p",{staticClass:"text-center"},[n("mdb-icon",{staticClass:"mr-2",attrs:{icon:"user",size:"5x"}})],1)]),n("div",{staticClass:"col-lg-8"},[n("div",{staticClass:"mb-2 d-flex justify-content-around"},[n("span",{staticClass:"text-left fl_agentProfile_details mb-3"},[t._v(" Agent: "),n("strong",[t._v(t._s(t.agentCredentials.agentId))])]),n("span",{staticClass:"text-left fl_agentProfile_details"},[t._v(" Station: "),n("strong",[t._v(t._s(t.agentCredentials.deviceId))])])]),n("a",{staticClass:"btn btn-danger btn-block",attrs:{href:"#"},on:{click:t.agentLogoutBtnClicked}},[t._v("Log Out")])])])])])])],1)],1)},D=[],O={name:"AgentProfile",components:{mdbRow:i["mdbRow"],mdbCol:i["mdbCol"],mdbContainer:i["mdbContainer"],mdbBtn:i["mdbBtn"],mdbCard:i["mdbCard"],mdbCardBody:i["mdbCardBody"],mdbCardHeader:i["mdbCardHeader"],mdbCardText:i["mdbCardText"],mdbIcon:i["mdbIcon"],mdbTbl:i["mdbTbl"],mdbDropdown:i["mdbDropdown"],mdbDropdownToggle:i["mdbDropdownToggle"],mdbDropdownItem:i["mdbDropdownItem"],mdbDropdownMenu:i["mdbDropdownMenu"]},props:{},data:function(){return{agentName:""}},mounted:function(){this.agentName=this.$store.getters.getAgent.fullName},methods:{agentLogoutBtnClicked:function(){this.$store.dispatch("sendAgentLogoutRequest")}},computed:{agentCredentials:function(){return this.$store.getters.getAgentCredentials},socketRequest:function(){return this.$store.state.socketRequest}}},N=O,w=(n("d605"),Object(v["a"])(N,L,D,!1,null,"44136258",null)),R=w.exports,y={name:"TopNavbar",components:{AgentProfile:R,AgentStateControl:E,mdbNavbar:i["mdbNavbar"],mdbNavbarBrand:i["mdbNavbarBrand"],mdbNavbarNav:i["mdbNavbarNav"]},props:{},data:function(){return{showOutboundDialerModal:!1}},methods:{}},x=y,k=(n("c217"),Object(v["a"])(x,r,c,!1,null,null,null)),M=k.exports,U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("mdb-container",{staticClass:"d-flex fl_corner_bg",attrs:{fluid:""}},[s("mdb-row",{staticClass:"d-flex flex-fill justify-content-center"},[s("mdb-col",{attrs:{col:"lg-6"}},[s("a",{staticClass:"text-white",on:{click:t.forceLogoutButtonClicked}},[t._v("Logout")]),s("mdb-card",[s("div",{staticClass:"pt-3 d-flex justify-content-around"},[s("img",{staticClass:"ml-2 mr-5",staticStyle:{width:"200px"},attrs:{src:n("8481"),alt:"Responsive image"}}),s("img",{staticClass:"mr-2 ml-5 pb-5",staticStyle:{width:"150px"},attrs:{src:n("b2da"),alt:"Responsive image"}})]),s("p",{staticClass:"h4 text-center my-4 py-3 fl-color-agc white-text"},[s("span",{staticClass:"float-left pl-4"},[t._v("Login")])]),s("mdb-card-body",{staticClass:"p-4"},[s("div",{staticClass:"grey-text",on:{click:function(t){t.stopPropagation()}}},[s("mdb-input",{attrs:{required:"",label:"Agent ID",icon:"user",type:"text"},model:{value:t.credentials.agentId,callback:function(e){t.$set(t.credentials,"agentId",e)},expression:"credentials.agentId"}}),s("mdb-input",{attrs:{required:"",label:"Station ID",icon:"phone",type:"text"},model:{value:t.credentials.deviceId,callback:function(e){t.$set(t.credentials,"deviceId",e)},expression:"credentials.deviceId"}}),s("mdb-input",{attrs:{required:"",label:"Password",icon:"lock",type:"password"},model:{value:t.credentials.password,callback:function(e){t.$set(t.credentials,"password",e)},expression:"credentials.password"}}),t.spinner.show?s("span",{staticClass:"spinner-border text-info float-left"}):t._e(),s("div",{staticClass:"btn-group text-center my-3 w-100 pl-4 ml-3"},[s("mdb-btn",{staticClass:"btn white-text mr-3",attrs:{color:"mdb-color"},on:{click:t.agentLoginBtnClicked,keydown:t.handleEnterKeyForLogin}},[t._v("Log in")])],1)],1)]),t.loginAlert.show?s("mdb-alert",{attrs:{color:t.loginAlert.color}},[t._v(t._s(t.loginAlert.message))]):t._e()],1)],1)],1),t.showLogoutModal?s("mdb-modal",{staticClass:"pt-5",attrs:{elegant:""},on:{close:function(e){t.showLogoutModal=!1}}},[s("mdb-modal-header",[s("mdb-modal-title",[t._v("Modal title")])],1),s("mdb-modal-body",[t._v("You are already logged-in as an agent. Would you like to logout from the previous session?")]),s("mdb-modal-footer",[s("mdb-btn",{attrs:{color:"secondary"},nativeOn:{click:function(e){t.showLogoutModal=!1}}},[t._v("Cancel")]),s("mdb-btn",{attrs:{color:"primary"},nativeOn:{click:function(e){return t.forceLogoutButtonClicked(e)}}},[t._v("Force Log-out")])],1)],1):t._e()],1)},B=[],G=(n("96cf"),n("1da1")),P={name:"LoginPage",components:{mdbAlert:i["mdbAlert"],mdbContainer:i["mdbContainer"],mdbRow:i["mdbRow"],mdbCol:i["mdbCol"],mdbBtn:i["mdbBtn"],mdbCard:i["mdbCard"],mdbCardBody:i["mdbCardBody"],mdbInput:i["mdbInput"],mdbModal:i["mdbModal"],mdbModalHeader:i["mdbModalHeader"],mdbModalTitle:i["mdbModalTitle"],mdbModalBody:i["mdbModalBody"],mdbModalFooter:i["mdbModalFooter"]},mounted:function(){this.credentials=this.$store.getters.getAgentCredentials},props:{},data:function(){return{loginResponse:"",loginAlert:{message:"",color:"",show:!1},credentials:{agentId:"",deviceId:"",password:"",workMode:"auto"},spinner:{show:!1},ipAddress:"",showLogoutModal:!1}},sockets:{},methods:{handleEnterKeyForLogin:function(t){13===t.keyCode&&this.agentLoginBtnClicked()},agentLoginBtnClicked:function(){var t=this;return Object(G["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.showSpinner(),n=function(){t.$store.dispatch("sendAgentLoginRequest").then((function(e){console.log(e),t.hideSpinner(),e&&e.responseCode&&("0"===e.responseCode?t.$store.dispatch("showErrorBanner",["Welcome","You are successfully logged in"]):"35"===e.responseCode&&(t.showLogoutModal=!0))}))},t.$store.dispatch("setAgentLoginCredentials",t.credentials),console.log("agentLoginBtnClicked(): login button clicked"),s=t.$store.getters["session/getSessionId"],s?n():t.$store.dispatch("session/requestSessionFromServer").then((function(e){e.sessionId?n():"05"===e.responseCode?t.$store.dispatch("showErrorBanner",["Agent Login Failed",e.responseMessage]):t.$store.dispatch("showErrorBanner",["Agent Login Failed","COuld not retrieve session ID from the server"])}));case 6:case"end":return e.stop()}}),e)})))()},forceLogoutButtonClicked:function(){this.showLogoutModal=!1,this.$store.dispatch("setAgentLoginCredentials",this.credentials),this.$store.dispatch("sendAgentLogoutRequest")},hideAlert:function(){this.loginAlert.message="",this.loginAlert.color="",this.loginAlert.show=!1},showAlert:function(t,e){this.loginAlert.message=e,this.loginAlert.color=t,this.loginAlert.show=!0},showSpinner:function(){this.spinner.show=!0},hideSpinner:function(){this.spinner.show=!1}},computed:{socketRequest:function(){return this.$store.state.socketRequest}}},$=P,F=(n("d113"),Object(v["a"])($,U,B,!1,null,"9af9f606",null)),q=F.exports,W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mdb-navbar",{attrs:{text:"white",color:"special",position:"bottom",dark:""}},[n("mdb-navbar-nav",[n("web-socket-indicator",{staticClass:"white-text mr-4 pr-4"})],1),n("mdb-navbar-nav",{attrs:{right:""}},[n("span",{staticClass:"white-text"},[t._v("SessionID: "+t._s(t.sessionId))]),n("span",{staticClass:"white-text pl-5 ml-5 float-right"},[t._v("ver: 1.0.0")])])],1)},H=[],j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"dropdown-toggle-a primary-text",attrs:{slot:"toggle"},slot:"toggle"},[n("mdb-icon",{staticClass:"mr-1",class:t.socketStateIndicatorColor,attrs:{icon:"circle"}}),t._v("Server Connectivity ")],1)},K=[],J={name:"WebSocketIndicator",components:{mdbIcon:i["mdbIcon"]},socket:{},props:{},data:function(){return{}},computed:{socketStatus:function(){return this.$store.getters.getSocketStatus},socketStateIndicatorColor:function(){return this.socketStatus===_.CONNECTED?"light-green-text":"red-text"}}},V=J,Y=Object(v["a"])(V,j,K,!1,null,null,null),z=Y.exports,Q={name:"UtilityBar",components:{WebSocketIndicator:z,mdbNavbar:i["mdbNavbar"],mdbNavbarNav:i["mdbNavbarNav"]},props:{},data:function(){return{}},methods:{},computed:{sessionId:function(){return this.$store.getters["session/getSessionId"]}}},X=Q,Z=Object(v["a"])(X,W,H,!1,null,null,null),tt=Z.exports,et={name:"AdminTemplate",components:{LoginPage:q,TopNavbar:M,BottomFooter:tt},data:function(){return{activeItem:1,ipAddress:null}},sockets:{connect:function(){console.log("App/sockets/connect(): socket connected"),this.$store.dispatch("processSocketConnected")},connect_error:function(){console.log("App/sockets/connect(): socket connect_error"),this.$store.getters.getSocketStatus===_.CONNECTED&&(this.$store.dispatch("showErrorBanner",["Server Connection Lost!","Server connection could not be established. Please make sure you have connectivity with the server before you attempt to log in."]),this.$store.dispatch("setSocketStateDisconnected"))},connection_error:function(){console.log("App/sockets/connect(): socket connection_error"),this.$store.dispatch("showErrorBanner",["Server Connection Lost!","WebSocket connection timed out. Please make sure the websocket server is running."]),this.$store.dispatch("setSocketStateDisconnected")}},mounted:function(){this.$store.dispatch("session/addWindowRefreshReloadListener"),this.$refs.topNavBar&&console.log("App/mounted(): navbar height is"+JSON.stringify(this.$refs.topNavBar.clientHeight)),this.$store.dispatch("session/loadConfigurations")},methods:{},computed:{isAgentLoggedIn:function(){return this.$store.getters["getAgentState"]!==m.LOG_OUT&&this.$store.getters["getAgentState"]!==m.UNKNOWN}},beforeMount:function(){this.activeItem=this.$route.matched[0].props.default.page},mixins:[i["waves"]]},nt=et,st=(n("034f"),n("dcae"),Object(v["a"])(nt,a,l,!1,null,"2c679a72",null)),ot=st.exports,at=n("8c4f"),lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mdb-container",{staticClass:"mx-2 px-0 pt-2",attrs:{fluid:""}},[n("mdb-row",{staticClass:"mb-4 mx-0"},[n("mdb-col",{attrs:{col:"12"}},[n("call-drawer",{staticClass:"mx-3"})],1)],1),n("hr"),n("mdb-row",{staticClass:"mx-0"},[n("mdb-col",{attrs:{lg:t.leftComponentWidth,md:"12"}},[n("draggable",{staticClass:"dragArea",attrs:{list:t.leftComponentWidgets,options:{ghostClass:"ghost-component",chosenClass:"chosen-component",animation:150,dragClass:"dragged-component",filter:".card-body",preventOnFilter:!1}}},[n("transition-group",{attrs:{name:""}},t._l(t.leftComponentWidgets,(function(t){return n(t.name,{key:t.name,tag:"component",staticClass:"fl_widget"})})),1)],1)],1),n("mdb-col",{staticClass:"mb-1 px-0 mx-0",attrs:{lg:t.middleComponentWidth,md:"12"}},[n("draggable",{staticClass:"dragArea",attrs:{list:t.middleComponentWidgets,options:{ghostClass:"ghost-component",chosenClass:"chosen-component",animation:150,dragClass:"dragged-component",filter:".card-body",preventOnFilter:!1}}},[n("transition-group",{attrs:{name:""}},t._l(t.middleComponentWidgets,(function(t){return n(t.name,{key:t.name,tag:"component",staticClass:"fl_widget"})})),1)],1)],1),n("mdb-col",{staticClass:"mb-1 px-0 mx-0",attrs:{lg:t.rightComponentWidth,md:"12"}},[n("draggable",{staticClass:"dragArea",attrs:{list:t.rightComponentWidgets,options:{ghostClass:"ghost-component",chosenClass:"chosen-component",animation:150,dragClass:"dragged-component",filter:".card-body",preventOnFilter:!1}}},[n("transition-group",{attrs:{name:""}},t._l(t.rightComponentWidgets,(function(t){return n(t.name,{key:t.name,tag:"component",staticClass:"fl_widget"})})),1)],1)],1)],1)],1)},it=[],rt=n("310e"),ct=n.n(rt),dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mdb-card",[n("mdb-card-header",[t._v("Call History")]),n("mdb-card-body",[n("mdb-tbl",{attrs:{sm:"",hover:""}},[n("thead",{staticClass:"blue-grey lighten-4"},[n("tr",[n("th",[t._v("Sr.")]),n("th",[t._v("Call Start Time")]),n("th",[t._v("Call End Time")]),n("th",[t._v("DNIS")]),n("th",[t._v("CLI")]),n("th",[t._v("AgentId")]),n("th",[t._v("Notes")])])]),n("tbody",[n("tr",[n("th",{attrs:{scope:"row"}},[t._v("1")]),n("td",[t._v("24/06/18 05:00 pm")]),n("td",[t._v("25/06/18 05:00 pm")]),n("td",[t._v("1234")]),n("td",[t._v("8879712345")]),n("td",[t._v("8080")]),n("td",[t._v("Billing Issue")])]),n("tr",[n("th",{attrs:{scope:"row"}},[t._v("2")]),n("td",[t._v("24/06/18 05:00 pm")]),n("td",[t._v("25/06/18 05:00 pm")]),n("td",[t._v("1234")]),n("td",[t._v("8879712345")]),n("td",[t._v("8080")]),n("td",[t._v("Billing Issue")])]),n("tr",[n("th",{attrs:{scope:"row"}},[t._v("3")]),n("td",[t._v("24/06/18 05:00 pm")]),n("td",[t._v("25/06/18 05:00 pm")]),n("td",[t._v("1234")]),n("td",[t._v("8879712345")]),n("td",[t._v("8080")]),n("td",[t._v("Billing Issue")])])])])],1)],1)},ut=[],mt={name:"CallHistory",components:{mdbCard:i["mdbCard"],mdbCardBody:i["mdbCardBody"],mdbCardHeader:i["mdbCardHeader"]},props:{msg:String}},Ct=mt,gt=(n("b59a"),Object(v["a"])(Ct,dt,ut,!1,null,"385fcc5c",null)),ft=gt.exports,pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("widget",{attrs:{title:"Call Details"},scopedSlots:t._u([{key:"body",fn:function(){return[n("mdb-container",[n("mdb-row",[n("mdb-col",{attrs:{col:"lg-12 mt-2"}},t._l(t.callerData,(function(e){return n("dl",{key:e.key,staticClass:"row mb-1 no-gutters fl_dl"},[n("dt",{staticClass:"col-sm-6 fl_dt"},[t._v(t._s(e.key))]),n("dd",{staticClass:"col-sm-6 fl_dd"},[t._v(t._s(e.value.length>0?e.value:"-"))])])})),0)],1),n("hr"),n("mdb-row",[n("mdb-col",{attrs:{col:"lg-12"}},t._l(t.uuiElements,(function(e){return n("dl",{key:e.key,staticClass:"row mb-1 no-gutters fl_dl"},[n("dt",{staticClass:"col-sm-6 fl_dt"},[t._v(t._s(e.key))]),n("dd",{staticClass:"col-sm-6 fl_dd"},[t._v(t._s(e.value.length>0?e.value:"-"))])])})),0)],1)],1)]},proxy:!0}])})},ht=[],bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mdb-container",{attrs:{fluid:""}},[n("mdb-card",{staticClass:"mb-0"},[n("mdb-card-header",{class:t.color},[n("strong",[t._v(t._s(t.title))]),n("a",{on:{click:t.toggleShowWidget}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[t.showWidget?n("mdb-icon",{staticClass:"float-right",attrs:{icon:"window-minimize"}}):n("mdb-icon",{staticClass:"float-right",attrs:{icon:"bars"}})],1)],1)]),n("mdb-card-body",{directives:[{name:"show-slide",rawName:"v-show-slide",value:t.showWidget,expression:"showWidget"}],staticClass:"px-1",class:{"p-0":!t.showWidget}},[t._t("body")],2)],1)],1)},_t=[],Tt={name:"Widget",components:{mdbContainer:i["mdbContainer"],mdbRow:i["mdbRow"],mdbCol:i["mdbCol"],mdbBtn:i["mdbBtn"],mdbCard:i["mdbCard"],mdbCardBody:i["mdbCardBody"],mdbCardHeader:i["mdbCardHeader"],mdbCardText:i["mdbCardText"],mdbInput:i["mdbInput"],mdbIcon:i["mdbIcon"]},mounted:function(){},props:{title:String,color:{type:String,default:"mdb-color text-white"}},data:function(){return{showWidget:!0}},computed:{},methods:{toggleShowWidget:function(){this.showWidget=!this.showWidget}}},St=Tt,It=Object(v["a"])(St,bt,_t,!1,null,null,null),vt=It.exports,At={name:"CallerDetails",components:{Widget:vt,mdbRow:i["mdbRow"],mdbCol:i["mdbCol"],mdbContainer:i["mdbContainer"]},props:{},data:function(){return{showWidget:!0}},methods:{toggleShowWidget:function(){this.showWidget=!this.showWidget}},computed:{uuiLabels:function(){return this.$store.state.uui.labels},callerData:function(){return this.$store.getters.getCallerData},uuiElements:function(){return this.$store.getters.getUui}}},Et=At,Lt=(n("597f"),Object(v["a"])(Et,pt,ht,!1,null,"335dc03d",null)),Dt=Lt.exports,Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("widget",{attrs:{title:"Menu Traversal"},scopedSlots:t._u([{key:"body",fn:function(){return[t.isCallActive?n("mdb-row",{staticClass:"no-gutters"},[n("mdb-col",[n("mdb-tbl",{attrs:{sm:"",bordered:"",scrollY:"",maxHeight:"150px"}},[n("mdb-tbl-head",{attrs:{color:"light-blue lighten-5"}},[n("tr",[n("th",[t._v("Time")]),n("th",[t._v("Menu")])])]),n("mdb-tbl-body",[n("tr",[n("td",[t._v("09/10/19 13:05:30")]),n("td",[t._v("Lanaguage Selection")])]),n("tr",[n("td",[t._v("09/10/19 13:05:30")]),n("td",[t._v("Main Menu")])]),n("tr",[n("td",[t._v("09/10/19 13:05:38")]),n("td",[t._v("Account Services")])]),n("tr",[n("td",[t._v("09/10/19 13:05:47")]),n("td",[t._v("Balance Inquiry")])]),n("tr",[n("td",[t._v("09/10/19 10:06:05")]),n("td",[t._v("Main Menu")])])])],1)],1)],1):n("mdb-container",{staticClass:"p-4",attrs:{fluid:""}},[n("h4",{staticClass:"grey-text"},[t._v("Waiting for call")])])]},proxy:!0}])})},Nt=[],wt={name:"MenuTraversal",components:{Widget:vt,mdbRow:i["mdbRow"],mdbCol:i["mdbCol"],mdbContainer:i["mdbContainer"],mdbTbl:i["mdbTbl"],mdbTblHead:i["mdbTblHead"],mdbTblBody:i["mdbTblBody"]},props:{},data:function(){return{showWidget:!0,callerName:"John Doe",callerRMN:"+919876512345",callerAccountNo:"1234512345",callerTransferReason:"TPIN Generate",callerLanguage:"English"}},methods:{toggleShowWidget:function(){this.showWidget=!this.showWidget}},computed:{isCallActive:function(){var t=this.$store.getters.getCallStatus;return t===p.TALKING||t===p.HELD||t===p.RINGING}}},Rt=wt,yt=(n("c7a4"),Object(v["a"])(Rt,Ot,Nt,!1,null,"5de16cda",null)),xt=yt.exports,kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("widget",{attrs:{title:"Statistics"},scopedSlots:t._u([{key:"body",fn:function(){return[n("mdb-container",[n("span",{staticClass:"row mb-0 my-2 no-gutters text-justify fl_statHeading"},[n("span",[t._v("Session Statistics")])]),n("dl",{staticClass:"row mb-0 no-gutters text-justify"},[n("dd",{staticClass:"col"},[t._v("Time since Login")]),n("dd",{staticClass:"col"},[t._v("00:38:45")])]),n("dl",{staticClass:"row mb-0 no-gutters text-justify"},[n("dd",{staticClass:"col"},[t._v("Total Time On Calls")]),n("dd",{staticClass:"col"},[t._v("00:14:44")])]),n("span",{staticClass:"row mb-0 my-2 no-gutters text-justify fl_statHeading"},[n("span",[t._v("Agent Statistics")])]),n("dl",{staticClass:"row mb-0 no-gutters text-justify"},[n("dd",{staticClass:"col"},[t._v("Agent State")]),n("dd",{staticClass:"col"},[t._v(t._s(t.currentAgentState))])]),n("dl",{staticClass:"row mb-0 no-gutters text-justify"},[n("dd",{staticClass:"col"},[t._v("In-State Time")]),n("dd",{staticClass:"col"},[n("agent-timer-instate")],1)]),n("dl",{staticClass:"row mb-0 no-gutters text-justify"},[n("dd",{staticClass:"col"},[t._v("Aux Time")]),n("dd",{staticClass:"col"},[t._v("00:00:00")])]),n("dl",{staticClass:"row mb-0 no-gutters text-justify"},[n("dd",{staticClass:"col"},[t._v("ACW Time")]),n("dd",{staticClass:"col"},[t._v("00:00:00")])]),n("span",{staticClass:"row mb-0 my-2 no-gutters text-justify fl_statHeading"},[n("span",[t._v("Current Call Statistics")])]),n("dl",{staticClass:"row mb-0 no-gutters text-justify"},[n("dd",{staticClass:"col"},[t._v("Call State")]),n("dd",{staticClass:"col"},[t._v(t._s(t.currentCallState))])]),n("dl",{staticClass:"row mb-0 no-gutters text-justify"},[n("dd",{staticClass:"col"},[t._v("In-State Time")]),n("dd",{staticClass:"col"},[n("call-timer-instate")],1)]),n("dl",{staticClass:"row mb-0 no-gutters text-justify"},[n("dd",{staticClass:"col"},[t._v("Talk Time")]),n("dd",{staticClass:"col"},[t._v("00:01:05")])]),n("dl",{staticClass:"row mb-0 no-gutters text-justify"},[n("dd",{staticClass:"col"},[t._v("Hold Time")]),n("dd",{staticClass:"col"},[t._v("00:00:30")])]),n("dl",{staticClass:"row mb-0 no-gutters text-justify"},[n("dd",{staticClass:"col"},[t._v("Hold Count")]),n("dd",{staticClass:"col"},[t._v("1")])])])]},proxy:!0}])})},Mt=[],Ut={name:"AgentCallStats",components:{Widget:vt,mdbContainer:i["mdbContainer"]},props:{},data:function(){return{}},methods:{},computed:{callerData:function(){return this.$store.state.callerData},currentAgentState:function(){return m.Text[this.$store.getters.getAgentState]},currentCallState:function(){return p.Text[this.$store.getters.getCallStatus]}}},Bt=Ut,Gt=(n("47a1"),Object(v["a"])(Bt,kt,Mt,!1,null,"057ca596",null)),Pt=Gt.exports,$t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fl_container_dialer"},[n("mdb-container",{attrs:{fluid:""}},[n("form",{on:{submit:function(t){t.preventDefault()},click:function(t){t.stopPropagation()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onConsultButtonClicked(e)}}},[n("mdb-row",{staticClass:"px-3 py-4",on:{click:function(t){t.stopPropagation()}}},[n("mdb-col",{staticClass:"d-flex align-items-baseline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.dialedDigits,expression:"dialedDigits"}],staticClass:"fl_inp_dialedDigits line light-blue-text px-3",attrs:{type:"text"},domProps:{value:t.dialedDigits},on:{click:function(t){t.stopPropagation()},input:function(e){e.target.composing||(t.dialedDigits=e.target.value)}}})]),n("a",{directives:[{name:"longclick",rawName:"v-longclick",value:function(){return t.clearDigits()},expression:"() => clearDigits()"}],staticClass:"black-text align-self-baseline mr-3 fl_btn_btnIcon",on:{click:[t.deleteSingleDigit,function(t){t.stopPropagation()}]}},[n("mdb-icon",{attrs:{icon:"backspace",size:"1p5x"}})],1)],1)],1),n("mdb-row",t._l(t.digits,(function(e){return n("mdb-col",{key:e.id,attrs:{col:"md-4 px-0"}},[n("div",{staticClass:"fl_button_dialerDigit btn-block transparent-color text-center fl_btn_btnIcon",on:{click:[function(n){return t.appendDigit(e.text)},function(t){t.stopPropagation()}]}},[n("div",{staticClass:"number"},[t._v(t._s(e.text))]),n("div",{staticClass:"subText"},[t._v(t._s(e.subText))])])])})),1),n("mdb-row",{},[n("transition",{attrs:{name:"fade"}},[n("mdb-btn",{staticClass:"mdb-color mx-2 w-100",on:{click:t.onConsultButtonClicked}},[t.spinner.show?n("span",{staticClass:"spinner-border text-info float-left"}):t._e(),n("span",[t._v("Consult")])])],1)],1)],1)],1)},Ft=[],qt=(n("fb6a"),n("a9e3"),{name:"ConsultDialer",components:{mdbContainer:i["mdbContainer"],mdbRow:i["mdbRow"],mdbCol:i["mdbCol"],mdbBtn:i["mdbBtn"],mdbIcon:i["mdbIcon"]},mounted:function(){},props:{ucid:String,callId:Number},data:function(){return{dialedDigits:"",digits:[{text:1,subText:""},{text:2,subText:"ABC"},{text:3,subText:"DEF"},{text:4,subText:"GHI"},{text:5,subText:"JKL"},{text:6,subText:"MNO"},{text:7,subText:"PQRS"},{text:8,subText:"TUV"},{text:9,subText:"WXYZ"},{text:"*",subText:""},{text:0,subText:"+"},{text:"#",subText:""}],digitSubText:["","ABC","DEF","GHI","JKL","MNO","PQRS","TUV","WXYZ","","+",""],interval:!1,digitDeleteSpeed:200,initialDeleteSpeed:500,spinner:{show:!1}}},methods:{handleEnterKey:function(t){13===t.keyCode&&this.onConsultButtonClicked()},showSpinner:function(){this.spinner.show=!0},hideSpinner:function(){this.spinner.show=!1},appendDigit:function(t){this.dialedDigits+=t},deleteSingleDigit:function(){console.log("deleteSingleDigits"),this.dialedDigits=this.dialedDigits.slice(0,this.dialedDigits.length-1)},startDeletingDigits:function(){var t=this;this.interval=setInterval((function(){return t.deleteSingleDigit()}),this.digitDeleteSpeed)},stopDeletingDigits:function(){clearInterval(this.interval)},clearDigits:function(){this.dialedDigits=""},onConsultButtonClicked:function(){var t=this;this.$store.dispatch("updateDialedDigits",this.dialedDigits),this.showSpinner(),this.$store.dispatch("requestConsultCall",this.callId).then((function(e){"0"===e.responseCode&&t.$emit("close-self"),t.hideSpinner()}))}},computed:{}}),Wt=qt,Ht=(n("2af9"),Object(v["a"])(Wt,$t,Ft,!1,null,"52e1d2f3",null)),jt=Ht.exports,Kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("widget",{attrs:{title:"Call Disposition"},scopedSlots:t._u([{key:"body",fn:function(){return[n("mdb-container",{attrs:{fluid:""}},[t.isAgentInAcw?n("div",[n("select",{directives:[{name:"model",rawName:"v-model",value:t.disposition,expression:"disposition"}],staticClass:"browser-default custom-select mb-3",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.disposition=e.target.multiple?n:n[0]}}},[n("option",{attrs:{selected:"",value:"null"}},[t._v(" Select Disposition Reason")]),n("option",{attrs:{value:"1"}},[t._v("Account Inquiry")]),n("option",{attrs:{value:"2"}},[t._v("Product Information")]),n("option",{attrs:{value:"3"}},[t._v("Technical Support")])]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.sub_disposition,expression:"sub_disposition"}],staticClass:"browser-default custom-select mb-4",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.sub_disposition=e.target.multiple?n:n[0]}}},[n("option",{attrs:{selected:"",value:"null"}},[t._v("Select Outcome")]),n("option",{attrs:{value:"1"}},[t._v("Successful")]),n("option",{attrs:{value:"2"}},[t._v("Transfered to IVR")]),n("option",{attrs:{value:"3"}},[t._v("Disconnected")])]),n("mdb-btn",{attrs:{block:"",color:"mdb-color"},on:{click:t.disposeCall}},[t._v("Dispose")])],1):n("div",[n("h4",{staticClass:"grey-text"},[t._v("Available when call ends")])])])]},proxy:!0}])})},Jt=[],Vt={name:"CallDisposition",components:{Widget:vt,mdbContainer:i["mdbContainer"],mdbBtn:i["mdbBtn"]},mounted:function(){},props:{ucid:null,callId:null},data:function(){return{showWidget:!1,showTimer:!1,disposition:null,sub_disposition:null}},methods:{toggleShowWidget:function(){this.showWidget=!this.showWidget},onAcwTimerExpired:function(){this.showTimer=!1,this.disposeCall()},disposeCall:function(){this.callId,this.ucid,this.call.callingAddress,this.call.calledAddress,this.call.callStartTime,this.call.callEndTime,this.disposition,this.sub_disposition;this.$store.dispatch("requestCallDisposition"),this.$store.dispatch("removeCallFromActiveCalls",[this.ucid,this.callId])}},computed:{call:function(){return this.$store.getters.getCallByCallId(this.callId)},callStatus:function(){return this.call.status},isAgentInAcw:function(){return this.callStatus===p.DROPPED}},watch:{callStatus:function(t,e){switch(e){case p.TALKING:case p.HELD:t===p.DROPPED&&(console.log("timer changed from talking to dropped"),this.showWidget=!0,this.showTimer=!0,this.$store.dispatch("startTimer","acwTimer"));break;default:break}}}},Yt=Vt,zt=Object(v["a"])(Yt,Kt,Jt,!1,null,null,null),Qt=zt.exports,Xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("widget",{attrs:{title:"CRM"},scopedSlots:t._u([{key:"body",fn:function(){return[n("div",{staticClass:"wrapper"},[n("iframe",{staticClass:"w-100 fl_crm_window",class:{error:t.iframeError},attrs:{src:t.CRM_URL},on:{error:function(e){t.iframeError=!0}}})])]},proxy:!0}])})},Zt=[],te={name:"CrmFrame",components:{Widget:vt},props:{},data:function(){return{manualShowWidget:!0,iframeError:!1}},methods:{toggleShowWidget:function(){!1===this.autoShowWidget&&(this.manualShowWidget=!this.manualShowWidget)},iframeLoad:function(){this.iframeError=!0}},computed:{autoShowWidget:function(){return this.$store.activeCall.status===p.RINGING||this.$store.activeCall.status===p.TALKING},activeCall:function(){var t=this.$store.getters.getActiveCallCallId;return this.$store.getters.getCallByCallId(t)},callingAddress:function(){return this.activeCall?this.activeCall.callingAddress:null},calledAddress:function(){return this.activeCall?this.activeCall.calledAddress:null},agentCredentials:function(){return this.$store.getters.getAgentCredentials},showWidget:function(){return this.manualShowWidget||this.autoShowWidget},sessionId:function(){return this.$store.getters["session/getSessionId"]},CRM_URL:function(){return this.callingAddress?this.$store.getters.getCrmUrl+"?cli="+this.callingAddress+"&dnis="+this.calledAddress+"&ucid="+this.activeCall.ucid+"&callId="+this.activeCall.callId+"&sessionId="+this.sessionId:this.$store.getters.getCrmUrl}}},ee=te,ne=(n("1d83"),Object(v["a"])(ee,Xt,Zt,!1,null,"94766732",null)),se=ne.exports,oe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("widget",{attrs:{title:"Quick Links"},scopedSlots:t._u([{key:"body",fn:function(){return[n("div",{staticClass:"list-group px-3"},[n("a",{staticClass:"list-group-item list-group-item-action my-2 light-blue lighten-4 text-black",attrs:{href:"http://login.salesforce.com",target:"_blank"}},[n("strong",[t._v("Salesforce")])]),n("a",{staticClass:"list-group-item list-group-item-action light-green lighten-4 text-black",attrs:{href:"#",target:"_blank"}},[n("strong",[t._v("Finnacle")])])])]},proxy:!0}])})},ae=[],le={name:"QuickLinks",components:{Widget:vt},mounted:function(){},props:{msg:String},data:function(){return{showWidget:!0}},methods:{toggleShowWidget:function(){this.showWidget=!this.showWidget}}},ie=le,re=Object(v["a"])(ie,oe,ae,!1,null,"02d8e158",null),ce=re.exports,de=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("widget",{attrs:{title:"SMS Helper"},scopedSlots:t._u([{key:"body",fn:function(){return[n("mdb-container",{class:{fl_disabledWidget:!t.isCallAvailable},attrs:{fluid:""}},[t.cli?n("div",[n("label",[t._v("The SMS will be sent to:")]),t.cli.length>0?n("span",[t._v(t._s(t.cli))]):t._e(),n("select",{directives:[{name:"model",rawName:"v-model",value:t.smsContentType,expression:"smsContentType"}],staticClass:"browser-default custom-select mb-4",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.smsContentType=e.target.multiple?n:n[0]}}},[n("option",{attrs:{disabled:"",selected:"",value:""}},[t._v("SMS Content")]),n("option",{attrs:{value:"0"}},[t._v("Feedback Survey")]),n("option",{attrs:{value:"1"}},[t._v("Reset Password")]),n("option",{attrs:{value:"2"}},[t._v("Registration Link")])]),n("mdb-btn",{attrs:{block:"",color:"mdb-color"},on:{click:t.onSendSmsClick}},[t._v("Send SMS")])],1):n("div",[n("h4",{staticClass:"grey-text"},[t._v("Waiting for call")])])])]},proxy:!0}])})},ue=[],me={name:"SmsHelper",components:{Widget:vt,mdbContainer:i["mdbContainer"]},mounted:function(){},props:{},data:function(){return{smsContentType:"",message:["Dear Customer, your feedback is valuable to us. Please visit https://tinyurl.com/y44tb3sm","Dear customer, to reset your password, please visit http://dummyurl.com/resetPassword","Dear customer, you can begin your registration process by visiting http://dummyurl.com/register"]}},computed:{showWidget:function(){return!!this.cli},cli:function(){var t=this.$store.getters.getActiveCallCallId,e=this.$store.getters.getCallByCallId(t),n=e?e.callingAddress:null;return n},isCallAvailable:function(){return this.callStatus!==p.IDLE&&this.callStatus!==p.RINGING}},methods:{toggleShowWidget:function(){this.showWidget=!this.showWidget},onSendSmsClick:function(){if(this.smsContentType.length>0){var t={cli:this.cli,message:this.message[this.smsContentType]};this.$store.dispatch("requestSendSms",t)}else this.$store.dispatch("showErrorBanner"["Please select an SMS type before sending"])}}},Ce=me,ge=Object(v["a"])(Ce,de,ue,!1,null,null,null),fe=ge.exports,pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("widget",{attrs:{title:"AGS Helper"},scopedSlots:t._u([{key:"body",fn:function(){return[n("mdb-container",{attrs:{fluid:""}},[t.dnis?n("div",[n("h3",[t._v("LOB - "+t._s(t.lob))])]):n("div",[n("h4",{staticClass:"grey-text"},[t._v("Waiting for call")])])])]},proxy:!0}])})},he=[],be={name:"AgsHelper",components:{Widget:vt,mdbContainer:i["mdbContainer"],mdbRow:i["mdbRow"],mdbCol:i["mdbCol"],mdbBtn:i["mdbBtn"],mdbCard:i["mdbCard"],mdbCardBody:i["mdbCardBody"],mdbCardHeader:i["mdbCardHeader"],mdbCardText:i["mdbCardText"],mdbInput:i["mdbInput"],mdbIcon:i["mdbIcon"]},mounted:function(){},props:{},data:function(){return{showWidget:!1}},computed:{callId:function(){return this.$store.getters.getActiveCallCallId?this.$store.getters.getActiveCallCallId:this.$store.getters.getCallIdArray[0]},call:function(){return this.$store.getters.getCallByCallId(this.callId)?this.$store.getters.getCallByCallId(this.callId):null},dnis:function(){return this.call?1===this.call.callDirection?this.call.calledAddress:2===this.call.callDirection?this.call.callingAddress:void 0:null},lob:function(){return this.callId&&this.$store.getters.getLobForCallId(this.callId)?this.$store.getters.getLobForCallId(this.callId):null}},methods:{toggleShowWidget:function(){this.showWidget=!this.showWidget}},watch:{dnis:function(t,e){t&&(this.lob||(console.log("AgsHelper/watch(dnis):"),this.$store.dispatch("requestFetchLobFromDnis",{callId:this.callId,dnis:this.dnis})))}}},_e=be,Te=Object(v["a"])(_e,pe,he,!1,null,null,null),Se=Te.exports,Ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("mdb-container",{attrs:{fluid:""}},[n("mdb-row",[t._l(t.myCalls,(function(e){return n("mdb-col",{key:e.callId,attrs:{col:t.cardWidth}},[!t.isCallDropped(e)&&t.isCallTypeInbound(e)?n("call-card-inbound",{attrs:{ucid:e.ucid,callId:e.callId}}):t._e(),!t.isCallDropped(e)&&t.isCallTypeOutbound(e)?n("call-card-outbound",{attrs:{ucid:e.ucid,callId:e.callId}}):t._e(),t.isCallDropped(e)?n("call-disposition",{attrs:{ucid:e.ucid,callId:e.callId}}):t._e()],1)})),n("mdb-col",{staticClass:"fl_navbar_item"},[n("mdb-btn",{staticClass:"btn-circle light-blue",nativeOn:{click:function(e){return t.openOutboundModal(e)}}},[n("mdb-icon",{staticStyle:{"font-size":"1.5em"},attrs:{icon:"phone"}}),n("mdb-icon",{staticStyle:{"font-size":"1em"},attrs:{icon:"plus"}})],1),t.showOutboundDialerModal?n("mdb-modal",{attrs:{size:"sm"},on:{close:function(e){t.showOutboundDialerModal=!1}}},[n("mdb-modal-header",{staticClass:"black-text"},[n("mdb-modal-title",[t._v("Make Call")])],1),n("mdb-modal-body",[n("outbound-dialer",{on:{"close-self":function(e){t.showOutboundDialerModal=!1}}})],1)],1):t._e()],1)],2)],1)],1)},ve=[],Ae=n("2ef0"),Ee=n.n(Ae),Le=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isCallDropped?t._e():n("widget",{attrs:{title:t.cardTitle,color:t.widgetColor},scopedSlots:t._u([{key:"body",fn:function(){return[n("mdb-container",[n("mdb-row",{staticClass:"no-gutters"},[n("mdb-col",{attrs:{col:t.cardWidth}},[n("mdb-row",[n("mdb-col",{staticClass:"mb-3 d-flex",attrs:{col:"7"}},[n("span",{staticClass:"fl_well_text big mx-auto",attrs:{strong:""}},[t._v(t._s(t.callingAddress))]),t.isCallConferenced?n("span",{staticClass:"fl_well_text big mx-auto",attrs:{strong:""}},[t._v(t._s(t.thirdAddress))]):t._e()]),n("mdb-col",{staticClass:"mb-3 text-center",attrs:{col:"5\n              "}},[n("persist-timer",{staticClass:"fl_well_text big",attrs:{timerName:t.callTimerName}})],1)],1),n("mdb-row",[n("mdb-col",{staticClass:"mb-3 d-flex",attrs:{col:"7"}},[n("span",{staticClass:"fl_well_text big mx-auto",attrs:{strong:""}},[t._v(t._s(t.callStatusText))])]),n("mdb-col",{staticClass:"mb-3 text-center",attrs:{col:"5"}},[n("persist-timer",{staticClass:"fl_well_text big",attrs:{timerName:t.inStateTimerName}})],1)],1)],1),n("mdb-col",[n("mdb-row",[n("mdb-col",{attrs:{col:"4"}},[n("transition",{attrs:{name:"fade"}},[t.isCallHeld?t._e():n("button",{staticClass:"btn btn-circle",class:[{iconGlow:t.isCallRinging},t.answerButtonColor],attrs:{type:"button",disabled:t.isCallIdle},on:{click:t.answerDropCall}},[n("transition",{attrs:{name:"fade"}},[t.isCallRinging?n("mdb-icon",{staticStyle:{"font-size":"1.5em"},attrs:{icon:"phone"}}):n("mdb-icon",{staticStyle:{"font-size":"1.5em"},attrs:{icon:"phone-slash"}})],1)],1)])],1),n("mdb-col",{attrs:{col:"4"}},[n("transition",{attrs:{name:"fade"}},[n("button",{staticClass:"btn btn-circle",class:t.holdButtonColor,attrs:{type:"checkbox",disabled:!t.isCallActive},on:{click:t.holdUnholdCall}},[n("mdb-icon",{staticStyle:{"font-size":"1.5em"},attrs:{icon:t.isCallHeld?"play":"pause"}})],1)])],1),n("mdb-col",{attrs:{col:"4"}},[t.isCallConferenced||t.isCallHeld?t._e():n("mdb-btn",{staticClass:"btn red lighten-1 btn-circle",class:{fl_disabledWidget:!t.isCallActive},attrs:{type:"checkbox"},nativeOn:{click:function(e){t.showConferenceModal=!0}}},[n("mdb-icon",{staticStyle:{"font-size":"1.5em"},attrs:{icon:"users"}})],1),t.showConferenceModal?n("mdb-modal",{attrs:{size:"sm"},on:{close:function(e){t.showConferenceModal=!1}}},[n("mdb-modal-header",[n("mdb-modal-title",[t._v("Consult Call")])],1),n("mdb-modal-body",[n("consult-dialer",{attrs:{ucid:t.ucid,callId:t.callId},on:{"close-self":function(e){t.showOutboundDialerModal=!1}}})],1)],1):t._e()],1)],1)],1)],1)],1)]},proxy:!0}],null,!1,1859253664)})],1)},De=[],Oe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("span",[t._v(t._s(t.formattedTime))])])},Ne=[],we={name:"PersistTimer",props:{timerName:String},data:function(){return{formattedTime:"00:00:00",timerInterval:null}},mounted:function(){},beforeDestroy:function(){this.stopTicking()},destroyed:function(){clearInterval(this.timerInterval)},methods:{resetFormattedTime:function(){this.formattedTime="00:00:00"},startTicking:function(){this.timer&&this.timerState&&this.refTime&&(this.updateTicks(),this.timerInterval=setInterval(this.updateTicks,1e3))},stopTicking:function(){clearInterval(this.timerInterval),this.resetFormattedTime()},updateTicks:function(){var t=(new Date).getTime()-this.refTime,e=Math.floor(t/1e3)%60,n=Math.floor(t/1e3/60)%60,s=Math.floor(n/60)%12;this.formattedTime=this.padNumber(s)+":"+this.padNumber(n)+":"+this.padNumber(e)},padNumber:function(t){return t<10?"0"+t:t},setTimer:function(t){this.timerState=t.state,this.refTime=t.refTime}},computed:{timer:function(){var t=this.$store.getters.getTimerIndex(this.timerName),e=this.$store.getters.getTimers[t];return e},timerState:function(){if(this.timer)return this.timer.state;this.stopTicking()},refTime:function(){if(this.timer)return this.timer.refTime;this.stopTicking()}},watch:{refTime:function(t){this.resetFormattedTime()},timer:{deep:!0,immediate:!0,handler:function(t,e){t.state===C.START?this.startTicking():t.state===C.STOP&&this.stopTicking()}}}},Re=we,ye=Object(v["a"])(Re,Oe,Ne,!1,null,null,null),xe=ye.exports,ke={name:"CallCardInbound",components:{Widget:vt,PersistTimer:xe,ConsultDialer:jt,mdbContainer:i["mdbContainer"],mdbRow:i["mdbRow"],mdbCol:i["mdbCol"],mdbBtn:i["mdbBtn"],mdbIcon:i["mdbIcon"],mdbModal:i["mdbModal"],mdbModalHeader:i["mdbModalHeader"],mdbModalTitle:i["mdbModalTitle"],mdbModalBody:i["mdbModalBody"]},mounted:function(){console.log("CallCardInbound(): mounted()")},props:{ucid:String,callId:Number},data:function(){return{spinner:{show:!1},showConferenceModal:!1}},methods:{showSpinner:function(){this.spinner.show=!0},hideSpinner:function(){this.spinner.show=!1},answerDropCall:function(){this.$store.dispatch("requestAnswerDropCall",[this.call.callId,h.INBOUND])},holdUnholdCall:function(){this.$store.dispatch("requestHoldUnholdCall",this.call.callId)},disposeCall:function(){this.$store.dispatch("removeCallFromActiveCalls",[this.call.ucid,this.call.callId])}},computed:{callTimerName:function(){return f.CALL_TIMER+"_"+this.callId},inStateTimerName:function(){return f.IN_STATE_TIMER+"_"+this.callId},cardWidth:function(){return this.$store.getters.getCalls.length>2?"md-12":"md-8"},allOngoingCalls:function(){return this.$store.getters.getCalls},currentCallIndex:function(){return this.$store.getters.getCallIndexByCallId(this.callId)},call:function(){return this.$store.getters.getCallByCallId(this.callId)},callIndex:function(){return this.$store.getters.getCallIndexByCallId(this.callId)},callStatus:function(){return this.call.status},isCallIdle:function(){return this.callStatus===p.IDLE||this.callStatus===p.DROPPED},isConfCallIdle:function(){return this.conferenceCallStatus===p.IDLE||this.conferenceCallStatus===p.DROPPED},isCallRinging:function(){return this.callStatus===p.RINGING},isCallActive:function(){return this.callStatus===p.TALKING||this.callStatus===p.HELD},isCallHeld:function(){return this.callStatus===p.HELD},multiCallState:function(){return this.$store.getters.getMultiCallState(this.callId)},isCallConferenced:function(){return this.multiCallState===b.CONFERENCED},answerButtonText:function(){return this.callStatus===p.RINGING?"Answer":this.callStatus===p.TALKING?"Drop":"-"},widgetColor:function(){return!1===this.isCallHeld?"success-color text-white":"mdb-color text-white"},answerButtonColor:function(){return this.isCallRinging?{"btn-green":!0}:this.isCallActive?{"btn-red":!0}:{"blue-grey":!0}},holdButtonColor:function(){return this.isCallHeld?{"blue-grey":!0}:{cyan:!0}},callingAddress:function(){var t;switch(this.callType){case h.INBOUND:t=this.call.callingAddress;break;case h.OUTBOUND:t=this.call.calledAddress;break;case h.CONSULTED:t=this.call.calledAddress;break}return t},thirdAddress:function(){var t;switch(this.callType){case h.INBOUND:t=this.call.thirdAddress;break;case h.OUTBOUND:t=this.call.thirdAddress;break;case h.CONSULTED:t=this.call.thirdAddress}return t},callType:function(){return this.call.type},cardTitle:function(){return this.callTypeText+" ("+this.callId+")"},callTypeText:function(){var t;switch(this.callType){case h.INBOUND:t=this.isCallConferenced?"Conference Call":"Inbound Call";break;case h.OUTBOUND:t="Outbound Call";break;case h.CONSULTED:t="Outbound Call"}return t},callStatusText:function(){return p.Text[this.callStatus]},isCallDropped:function(){return this.callStatus===p.DROPPED}},watch:{callStatus:{immediate:!1,deep:!0,handler:function(t){switch(t){case p.IDLE:case p.UNKNOWN:break;case p.RINGING:this.$store.dispatch("startTimer",this.callTimerName),this.$store.dispatch("startTimer",this.inStateTimerName);break;case p.TALKING:case p.HELD:this.$store.dispatch("startTimer",this.inStateTimerName);break;default:this.$store.dispatch("stopTimer",this.callTimerName),this.$store.dispatch("stopTimer",this.inStateTimerName)}}}}},Me=ke,Ue=(n("16fd"),Object(v["a"])(Me,Le,De,!1,null,"0b5f05f6",null)),Be=Ue.exports,Ge=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isCallDropped?t._e():n("widget",{attrs:{title:t.cardTitle,color:t.widgetColor},scopedSlots:t._u([{key:"body",fn:function(){return[n("mdb-container",[n("mdb-row",{staticClass:"no-gutters"},[n("mdb-col",{attrs:{col:t.cardWidth}},[n("mdb-row",[n("mdb-col",{staticClass:"mb-3 d-flex",attrs:{col:"7"}},[n("span",{staticClass:"fl_well_text big mx-auto",attrs:{strong:""}},[t._v(t._s(t.callingAddress))]),t.isCallConferenced?n("span",{staticClass:"fl_well_text big mx-auto",attrs:{strong:""}},[t._v(t._s(t.thirdAddress))]):t._e()]),n("mdb-col",{staticClass:"mb-3 text-center",attrs:{col:"5"}},[n("persist-timer",{staticClass:"fl_well_text big",attrs:{timerName:t.callTimerName}})],1)],1),n("mdb-row",[n("mdb-col",{staticClass:"mb-3 d-flex",attrs:{col:"7"}},[n("span",{staticClass:"fl_well_text big mx-auto",attrs:{strong:""}},[t._v(t._s(t.callStatusText))])]),n("mdb-col",{staticClass:"mb-3 text-center",attrs:{col:"5"}},[n("persist-timer",{staticClass:"fl_well_text big",attrs:{timerName:t.inStateTimerName}})],1)],1)],1),n("mdb-col",[n("mdb-row",[n("mdb-col",{attrs:{col:"3"}},[n("transition",{attrs:{name:"fade"}},[t.isCallHeld?t._e():n("button",{staticClass:"btn btn-circle btn-red",attrs:{type:"button",disabled:t.isCallIdle},on:{click:t.answerDropCall}},[n("transition",{attrs:{name:"fade"}},[t.isCallRinging?n("mdb-icon",{staticStyle:{"font-size":"1.5em"},attrs:{icon:"phone"}}):n("mdb-icon",{staticStyle:{"font-size":"1.5em"},attrs:{icon:"phone-slash"}})],1)],1)])],1),n("mdb-col",{attrs:{col:"3"}},[n("transition",{attrs:{name:"fade"}},[n("button",{staticClass:"btn btn-circle",class:t.holdButtonColor,attrs:{type:"checkbox",disabled:!t.isCallActive},on:{click:t.holdUnholdCall}},[n("mdb-icon",{staticStyle:{"font-size":"1.5em"},attrs:{icon:t.isCallHeld?"play":"pause"}})],1)])],1),n("mdb-col",{attrs:{col:"3"}},[t.isCallHeld||t.isCallRinging?t._e():n("button",{staticClass:"btn red lighten-1 btn-circle",attrs:{type:"checkbox"},on:{click:function(e){t.showConferenceModal=!0}}},[n("mdb-icon",{staticStyle:{"font-size":"1.5em"},attrs:{icon:"users"}})],1),t.showConferenceModal?n("mdb-modal",{attrs:{size:"sm"},on:{close:function(e){t.showConferenceModal=!1}}},[n("mdb-modal-header",[n("mdb-modal-title",[t._v("Consult Call")])],1),n("mdb-modal-body",[t.isCallConsulted?n("div",[t.otherCalls?n("select",{directives:[{name:"model",rawName:"v-model",value:t.callIdToBeConferenced,expression:"callIdToBeConferenced"}],staticClass:"browser-default custom-select mb-5",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.callIdToBeConferenced=e.target.multiple?n:n[0]}}},[n("option",{attrs:{selected:"",disabled:""}},[t._v("Open this select menu")]),t._l(t.otherCalls,(function(e){return n("option",{key:e.id,domProps:{value:e.callId}},[t._v(t._s(e.callingAddress))])}))],2):t._e(),n("div",{staticClass:"mb-5 w-100"},[n("div",{staticClass:"text-center py-2"},[t._v("Call to Conference/ Transfer :")]),n("h3",{staticClass:"text-center"},[t._v(t._s(t.otherCalls[0].callingAddress))])]),n("transition",{attrs:{name:"fade"}},[n("div",{staticClass:"btn-group w-100"},[n("mdb-btn",{staticClass:"mdb-color mx-2 px-2 w-50",on:{click:t.transferCall}},[t._v("Transfer")]),n("mdb-btn",{staticClass:"mdb-color mx-2 px-2 w-50",on:{click:t.conferenceCall}},[t._v("Conference")])],1)])],1):n("div",[n("consult-dialer",{attrs:{ucid:t.ucid,callId:t.callId},on:{"close-self":function(e){t.showConferenceModal=!1}}})],1)])],1):t._e()],1)],1)],1)],1)],1)]},proxy:!0}],null,!1,488993182)})],1)},Pe=[],$e={name:"CallCardOutbound",components:{Widget:vt,PersistTimer:xe,ConsultDialer:jt,mdbContainer:i["mdbContainer"],mdbRow:i["mdbRow"],mdbCol:i["mdbCol"],mdbBtn:i["mdbBtn"],mdbIcon:i["mdbIcon"],mdbModal:i["mdbModal"],mdbModalHeader:i["mdbModalHeader"],mdbModalTitle:i["mdbModalTitle"],mdbModalBody:i["mdbModalBody"]},mounted:function(){1===this.otherCalls.length?this.callIdToBeConferenced=this.otherCalls[0].callId:console.log("not setting callIdToBeConferenced")},props:{ucid:String,callId:Number},data:function(){return{callIdToBeConferenced:null,spinner:{show:!1},showConferenceModal:!1}},methods:{showSpinner:function(){this.spinner.show=!0},hideSpinner:function(){this.spinner.show=!1},answerDropCall:function(){this.$store.dispatch("requestAnswerDropCall",[this.call.callId,h.OUTBOUND])},holdUnholdCall:function(){this.$store.dispatch("requestHoldUnholdCall",this.call.callId)},disposeCall:function(){this.$store.dispatch("removeCallFromActiveCalls",[this.call.ucid,this.call.callId])},transferCall:function(){if(this.callIdToBeConferenced&&this.callId){var t={callIdB:this.callId,callIdA:this.callIdToBeConferenced};this.$store.dispatch("requestTransferCall",t)}else console.log("skipping transfer call. this.callId="+this.callId+"callIdToBeConferenced=",this.callIdToBeConferenced)},conferenceCall:function(){if(this.callIdToBeConferenced&&this.callId){var t={callIdB:this.callId,callIdA:this.callIdToBeConferenced};this.$store.dispatch("requestConferenceCall",t)}else console.log("skipping conference call. this.callId="+this.callId+"callIdToBeConferenced=",this.callIdToBeConferenced)}},computed:{cardWidth:function(){return this.$store.getters.getCalls.length>2?"md-12":"md-8"},otherCalls:function(){for(var t=this.$store.getters.getCalls,e=[],n=0;n<t.length;n++)t[n].callId!==this.callId&&e.push(t[n]);return e},callTimerName:function(){return f.CALL_TIMER+"_"+this.callId},inStateTimerName:function(){return f.IN_STATE_TIMER+"_"+this.callId},call:function(){return this.$store.getters.getCallByCallId(this.callId)},callStatus:function(){return this.call.status},isCallIdle:function(){return this.callStatus===p.IDLE||this.callStatus===p.DROPPED},isCallRinging:function(){return this.callStatus===p.RINGING},isCallActive:function(){return this.callStatus===p.TALKING||this.callStatus===p.HELD},isCallHeld:function(){return this.callStatus===p.HELD},multiCallState:function(){return this.$store.getters.getMultiCallState(this.callId)},isCallConferenced:function(){return this.multiCallState===b.CONFERENCED},isCallConsulted:function(){return this.callType===h.CONSULTED},answerButtonText:function(){return this.callStatus===p.RINGING?"Answer":this.callStatus===p.TALKING?"Drop":"-"},widgetColor:function(){return!1===this.isCallHeld?"success-color text-white":"mdb-color text-white"},answerButtonColor:function(){return this.isCallRinging?{"btn-green":!0}:this.isCallActive?{"btn-red":!0}:{"blue-grey":!0}},holdButtonColor:function(){return this.isCallHeld?{"blue-grey":!0}:{cyan:!0}},callingAddress:function(){var t;switch(this.callType){case h.INBOUND:t=this.call.callingAddress;break;case h.OUTBOUND:t=this.call.calledAddress;break;case h.CONSULTED:t=this.call.calledAddress;break}return t},callType:function(){return this.call.type},cardTitle:function(){return this.callTypeText+" ("+this.callId+")"},callTypeText:function(){var t;switch(this.callType){case h.INBOUND:t=this.isCallConferenced?"Conference Call":"Inbound Call";break;case h.OUTBOUND:t="Outbound Call";break;case h.CONSULTED:t="Outbound Call"}return t},thirdAddress:function(){var t;switch(this.callType){case h.INBOUND:t=this.call.thirdAddress;break;case h.OUTBOUND:t=this.call.thirdAddress;break;case h.CONSULTED:t=this.call.thirdAddress}return t},callStatusText:function(){return p.Text[this.callStatus]},isCallDropped:function(){return this.callStatus===p.DROPPED}},watch:{callStatus:{immediate:!0,deep:!0,handler:function(t,e){switch(console.log("CallCardOutbound(): watcher - callStatus: newCallStatus="+t+", oldCallStatus="+e),t){case p.IDLE:case p.UNKNOWN:break;case p.RINGING:this.$store.dispatch("startTimer",this.callTimerName),this.$store.dispatch("startTimer",this.inStateTimerName);break;case p.TALKING:case p.HELD:console.log("CallCardOutbound(): watcher - callStatus:  calling stop and start timer for instateTimer"),this.$store.dispatch("startTimer",this.inStateTimerName);break;default:this.$store.dispatch("stopTimer",this.callTimerName),this.$store.dispatch("stopTimer",this.inStateTimerName)}}}}},Fe=$e,qe=(n("b7a6"),Object(v["a"])(Fe,Ge,Pe,!1,null,"61d548c4",null)),We=qe.exports,He=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fl_container_dialer black-text"},[n("mdb-container",{attrs:{fluid:""}},[n("div",{on:{click:function(t){t.stopPropagation()}}},[n("mdb-row",{staticClass:"px-3 py-4",on:{click:function(t){t.stopPropagation()}}},[n("mdb-col",{staticClass:"d-flex align-items-baseline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.dialedDigits,expression:"dialedDigits"}],staticClass:"fl_inp_dialedDigits line light-blue-text px-3",attrs:{type:"text"},domProps:{value:t.dialedDigits},on:{click:function(t){t.stopPropagation()},input:function(e){e.target.composing||(t.dialedDigits=e.target.value)}}})]),n("a",{directives:[{name:"longclick",rawName:"v-longclick",value:function(){return t.clearDigits()},expression:"() => clearDigits()"}],staticClass:"black-text align-self-baseline mr-3 fl_btn_btnIcon",on:{click:[t.deleteSingleDigit,function(t){t.stopPropagation()}]}},[n("mdb-icon",{attrs:{icon:"backspace",size:"1p5x"}})],1),n("a",{staticClass:"black-text align-self-baseline fl_btn_btnIcon",on:{click:[t.clearDigits,function(t){t.stopPropagation()}]}},[n("mdb-icon",{attrs:{icon:"trash",size:"1p5x"}})],1)],1)],1),n("mdb-row",t._l(t.digits,(function(e){return n("mdb-col",{key:e.id,attrs:{col:"md-4 px-0"}},[n("div",{staticClass:"fl_button_dialerDigit btn-block transparent-color text-center fl_btn_btnIcon",on:{click:[function(n){return t.appendDigit(e.text)},function(t){t.stopPropagation()}]}},[n("div",{staticClass:"number"},[t._v(t._s(e.text))]),n("div",{staticClass:"subText"},[t._v(t._s(e.subText))])])])})),1),n("div",{on:{click:function(t){t.stopPropagation()}}},[n("mdb-row",{on:{click:function(t){t.stopPropagation()}}},[n("transition",{attrs:{name:"fade"}},[n("mdb-btn",{staticClass:"mx-2 btn-block light-blue",on:{click:t.onMakeCallButtonClicked}},[t.spinner.show?n("span",{staticClass:"spinner-border text-info float-left"}):t._e(),n("span",[t._v("Call")])])],1),n("transition",{attrs:{name:"fade"}})],1)],1)],1)],1)},je=[],Ke={name:"OutboundDialer",components:{mdbContainer:i["mdbContainer"],mdbRow:i["mdbRow"],mdbCol:i["mdbCol"],mdbBtn:i["mdbBtn"],mdbIcon:i["mdbIcon"]},mounted:function(){},props:{},data:function(){return{dialedDigits:"",digits:[{text:1,subText:""},{text:2,subText:"ABC"},{text:3,subText:"DEF"},{text:4,subText:"GHI"},{text:5,subText:"JKL"},{text:6,subText:"MNO"},{text:7,subText:"PQRS"},{text:8,subText:"TUV"},{text:9,subText:"WXYZ"},{text:"*",subText:""},{text:0,subText:"+"},{text:"#",subText:""}],digitSubText:["","ABC","DEF","GHI","JKL","MNO","PQRS","TUV","WXYZ","","+",""],interval:!1,digitDeleteSpeed:200,initialDeleteSpeed:500,spinner:{show:!1}}},methods:{showSpinner:function(){this.spinner.show=!0},hideSpinner:function(){this.spinner.show=!1},appendDigit:function(t){this.dialedDigits+=t},deleteSingleDigit:function(){console.log("deleteSingleDigits"),this.dialedDigits=this.dialedDigits.slice(0,this.dialedDigits.length-1)},startDeletingDigits:function(){var t=this;this.interval=setInterval((function(){return t.deleteSingleDigit()}),this.digitDeleteSpeed)},stopDeletingDigits:function(){clearInterval(this.interval)},clearDigits:function(){this.dialedDigits=""},onMakeCallButtonClicked:function(){var t=this;this.$store.dispatch("updateDialedDigits",this.dialedDigits),this.showSpinner(),this.$store.dispatch("requestOutboundCall").then((function(e){console.log("onMakeCallButtonClicked(): resp="+JSON.stringify(e)),t.hideSpinner(),"0"===e.responseCode&&(t.$emit("close-self"),t.$store.dispatch("setCallStateDialing",e),t.$store.dispatch("processNewOutboundCall",e))}))}},computed:{}},Je=Ke,Ve=(n("13d0"),Object(v["a"])(Je,He,je,!1,null,"5f68feac",null)),Ye=Ve.exports,ze={name:"CallDrawer",components:{CallCardInbound:Be,CallCardOutbound:We,CallDisposition:Qt,OutboundDialer:Ye,mdbRow:i["mdbRow"],mdbCol:i["mdbCol"],mdbContainer:i["mdbContainer"],mdbModal:i["mdbModal"],mdbModalHeader:i["mdbModalHeader"],mdbModalTitle:i["mdbModalTitle"],mdbModalBody:i["mdbModalBody"],mdbBtn:i["mdbBtn"],mdbIcon:i["mdbIcon"]},props:{},data:function(){return{calls:null,showOutboundDialerModal:!1}},methods:{isCallDropped:function(t){return t.status===p.DROPPED},isCallTypeInbound:function(t){return t.type===h.INBOUND},isCallTypeOutbound:function(t){return t.type!==h.INBOUND},openOutboundModal:Ee.a.debounce((function(){this.showOutboundDialerModal=!0}),2e3,{leading:!0,trailing:!0})},computed:{myCalls:function(){return this.$store.getters.getCalls},cardWidth:function(){return this.myCalls.length>2?"lg-3":"lg-5"}},watch:{myCalls:function(t){console.log("CallDrawer()/watch(myCalls): call state changed to:",t)}}},Qe=ze,Xe=Object(v["a"])(Qe,Ie,ve,!1,null,null,null),Ze=Xe.exports,tn={name:"Dashboard",components:{draggable:ct.a,ConsultDialer:jt,CrmFrame:se,QuickLinks:ce,CallDisposition:Qt,AgentCallStatistics:Pt,MenuTraversal:xt,AgentControl:AgentControl,CallDetails:Dt,CallHistory:ft,SmsHelper:fe,AgsHelper:Se,CallDrawer:Ze,mdbContainer:i["mdbContainer"],mdbRow:i["mdbRow"],mdbCol:i["mdbCol"],mdbBtn:i["mdbBtn"],mdbCard:i["mdbCard"],mdbCardBody:i["mdbCardBody"],mdbCardHeader:i["mdbCardHeader"],mdbCardText:i["mdbCardText"],mdbIcon:i["mdbIcon"],mdbTbl:i["mdbTbl"],mdbInput:i["mdbInput"]},data:function(){return{custName:""}},mounted:function(){},methods:{preventRefresh:function(){window.addEventListener("beforeunload",(function(t){t.preventDefault(),t.returnValue=""}))}},computed:{config:function(){return this.$store.getters["session/getConfig"]},myGhost:function(){return{"my-ghost":!0}},leftComponentWidgets:{get:function(){return this.config.leftComponents.widgets}},leftComponentWidth:{get:function(){return this.config.leftComponents.width}},middleComponentWidgets:{get:function(){return this.config.middleComponents.widgets}},middleComponentWidth:{get:function(){return this.config.middleComponents.width}},rightComponentWidgets:{get:function(){return this.config.rightComponents.widgets}},rightComponentWidth:{get:function(){return this.config.rightComponents.width}}}},en=tn,nn=(n("2b56"),Object(v["a"])(en,lt,it,!1,null,null,null)),sn=nn.exports,on=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{attrs:{id:"bad-gateway"}},[s("div",{staticClass:"full"},[s("mdb-row",{staticClass:"bad-gateway-row"},[s("mdb-col",{attrs:{md:"8"}},[s("img",{staticClass:"img-fluid",attrs:{alt:"Error 404",hieght:"20px",src:n("b2da")}}),s("h2",{staticClass:"h2-responsive mt-3 mb-2"},[t._v("404. That's an error.")]),s("h4",[t._v("The requested URL was not found on this server.")])]),s("mdb-col",{attrs:{md:"4"}},[s("img",{staticClass:"img-fluid",attrs:{alt:"Error 404",src:"https://mdbootstrap.com/img/Others/grafika404-bf.png"}})])],1)],1)])},an=[],ln={name:"BadGateway",components:{mdbRow:i["mdbRow"],mdbCol:i["mdbCol"]},data:function(){return{}}},rn=ln,cn=(n("f767"),Object(v["a"])(rn,on,an,!1,null,"73d6d8c9",null)),dn=cn.exports;s["default"].use(at["a"]);var un=new at["a"]({mode:"history",routes:[{path:"/dashboard",name:"Dashboard",component:sn,props:{page:1},alias:"/"},{path:"/404",name:"BadGateway",props:{page:2},component:dn},{path:"*",props:{page:2},redirect:"/404"}]}),mn=n("0086"),Cn=n.n(mn),gn=n("3835"),fn=n("bfa9");n("13d5"),n("d3b7");function pn(){return{agentState:m.UNKNOWN,reasonCode:0,displayLabel:"-",agentId:null,deviceId:null,password:null,workMode:"auto",rememberCredentials:!0,monitorAgentInterval:null,fullAuxCodeList:[],agentStateDisplayLabelMap:null,agentReasonCodeDisplayLabelMap:null}}var hn={namespaced:!1,state:pn,getters:{getAgent:function(t){return t},getAgentState:function(t){return t.agentState},getAgentAuxState:function(t){return{state:t.agentState,reasonCode:t.reasonCode,label:t.displayLabel}},getAgentCredentials:function(t){return{agentId:t.agentId,deviceId:t.deviceId,password:t.password,workMode:t.workMode}},getFullAuxCodeList:function(t){return t.fullAuxCodeList},getMonitorAgentHandle:function(t){return t.monitorAgentInterval}},actions:{initializeReasonCodes:function(t){var e=t.commit,n=t.getters,s=n["session/getConfig"],o=s.agentReasonCodeList,a=o.reduce((function(t,e){return t[e.reasonCode]=e.reasonLabel,t}),{}),l=s.defaultAuxCodes,i=l.reduce((function(t,e){return t[e.state]=e.label,t}),{});e("UPDATE_FULL_AUX_CODE_LIST",s),e("SET_DISPLAY_LABELS",[i,a])},startAgentStateMonitoring:function(t){var e=t.commit,n=t.dispatch,s=setInterval((function(){n("sendQueryAgentStateRequest")}),1e3);e("SET_MONITOR_AGENT_INTERVAL_HANDLE",s)},stopAgentStateMonitoring:function(t){var e=t.commit,n=t.getters;clearInterval(n.getMonitorAgentHandle),e("RESET_MONITOR_AGENT_INTERVAL_HANDLE")},setAgentState:function(t,e){var n=t.commit;n("SET_AGENT_STATE",e)},setAgentLoginCredentials:function(t,e){var n=t.commit;n("SET_AGENT_LOGIN_CREDENTIALS",e)},setAgentAuxCode:function(t,e){var n=t.commit;n("SET_AGENT_AUX_CODE",e)},sendAgentLoginRequest:function(t){var e=this,n=t.dispatch,s=t.getters;return new Promise((function(t,o){var a=s.getAgent,l=s["session/getSessionId"];console.log("sendAgentLoginRequest(): sessionId=",l);var i={sessionId:l,agentId:a.agentId,deviceId:a.deviceId,password:a.password,workMode:a.workMode};console.log("sendAgentLoginRequest(): request: "+JSON.stringify(i));try{e._vm.$socket.emit(T.AGENT_LOGIN,i,(function(e){console.log("sendAgentLoginRequest(): response: "+JSON.stringify(e)),"0"===e.responseCode?(n("processAgentLogin"),t(e)):(n("showErrorBanner",["Agent Login failed:",e.responseMessage]),t(e))}))}catch(r){t(r)}}))},sendAgentLogoutRequest:function(t){var e=this,n=(t.commit,t.dispatch),s=t.getters;return Object(G["a"])(regeneratorRuntime.mark((function t(){var o,a,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o=s.getAgent,a=s["session/getSessionId"],l={sessionId:a,agentId:o.agentId,deviceId:o.deviceId,password:o.password,workMode:o.workMode},console.log("sendAgentLogoutEvent(): request: "+JSON.stringify(l)),e._vm.$socket.emit(T.AGENT_LOGOFF,l,(function(t){return console.log("sendAgentLogoutEvent(): response: "+JSON.stringify(t)),"0"===t.responseCode?(n("processAgentLogout"),n("session/resetSessionId")):n("showErrorBanner",["Agent Logout failed:",t.responseMessage]),t}));case 5:case"end":return t.stop()}}),t)})))()},sendAgentStateRequest:function(t,e){var n=this,s=t.getters,o=t.commit,a=t.dispatch;return Object(G["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,l){var i={sessionId:s["session/getSessionId"],agentId:s.getAgentCredentials.agentId,deviceId:s.getAgentCredentials.deviceId,agentState:e.state,reasonCode:e.reasonCode};console.log("sendAgentStateRequest(): request= "+JSON.stringify(i)),n._vm.$socket.emit("SETAGTSTATE",i,(function(e){console.log("sendAgentStateRequest(): response= "+JSON.stringify(e)),"0"===e.responseCode?(o("SET_AGENT_STATE",e.agentState),a("setUpdatedAuxCode",e),t(e)):l(e)}))})));case 1:case"end":return t.stop()}}),t)})))()},sendQueryAgentStateRequest:function(t){var e=t.getters,n=t.commit,s=t.dispatch,o=e.getAgent,a=e["session/getSessionId"],l={sessionId:a,agentId:o.agentId,deviceId:o.deviceId};this._vm.$socket.emit(T.QUERY_AGENT_STATE,l,(function(t){return"0"===t.responseCode?(t.agentState&&(n("SET_AGENT_STATE",t.agentState),s("setAgentAuxCode",{state:t.agentState,reasonCode:t.reasonCode})),t):("04"===t.responseCode&&t.agentState===m.LOG_OUT&&n("SET_AGENT_STATE",t.agentState),t)}))},queryAgentState:function(){},processAgentLogin:function(t){var e=t.commit,n=t.dispatch;return Object(G["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n("session/loadConfigurations");case 2:n("initializeReasonCodes"),e("SET_AGENT_STATE_LOGIN"),n("sendQueryAgentStateRequest");case 5:case"end":return t.stop()}}),t)})))()},processAgentLogout:function(t){var e=t.dispatch,n=t.commit;e("resetAllModules"),n("SET_AGENT_STATE_LOGOUT"),e("stopAgentStateMonitoring")},setUpdatedAuxCode:function(t,e){var n=t.commit;console.log("setUpdatedAuxCode(): payload="+JSON.stringify(e));var s={agentState:e.agentState,reasonCode:e.reasonCode,label:"Not Set"};n("SET_AGENT_AUX_CODE",s)}},mutations:{RESET_AGENT_MODULE:function(t){var e={agentId:t.agentId,deviceId:t.deviceId,password:t.password,workMode:t.workMode};Object.assign(t,pn()),!0===t.rememberCredentials&&(t.agentId=e.agentId,t.deviceId=e.deviceId,t.password=e.password,t.workMode=e.workMode),t.agentState=m.UNKNOWN,t.reasonCode=0,t.displayLabel="-",t.monitorAgentInterval=null,t.fullAuxCodeList.length=0,t.agentStateDisplayLabelMap=null,t.agentReasonCodeDisplayLabelMap=null},UPDATE_FULL_AUX_CODE_LIST:function(t,e){for(var n=e.agentReasonCodeList,s=0;s<e.defaultAuxCodes.length;s++)t.fullAuxCodeList.push(e.defaultAuxCodes[s]);for(var o=0;o<n.length;o++)t.fullAuxCodeList.push({label:n[o].reasonLabel,state:m.NOT_READY,reasonCode:n[o].reasonCode,userSelectable:!0})},SET_DISPLAY_LABELS:function(t,e){var n=Object(gn["a"])(e,2),s=n[0],o=n[1];console.log("auxCodes"+JSON.stringify(s)),t.agentStateDisplayLabelMap=s,t.agentReasonCodeDisplayLabelMap=o},SET_AGENT_LOGIN_CREDENTIALS:function(t,e){t.agentId=e.agentId,t.deviceId=e.deviceId,t.password=e.password,t.workMode=e.workMode},SET_AGENT_STATE_LOGIN:function(t){t.agentState=m.LOG_IN},SET_AGENT_STATE_LOGOUT:function(t){t.agentState=m.LOG_OUT},SET_AGENT_STATE:function(t,e){t.agentState=e},SET_AGENT_AUX_CODE:function(t,e){t.reasonCode=e.reasonCode,t.agentState=e.state,e.state===m.NOT_READY?t.displayLabel=t.agentReasonCodeDisplayLabelMap[e.reasonCode]:t.displayLabel=t.agentStateDisplayLabelMap[e.state]},SET_MONITOR_AGENT_INTERVAL_HANDLE:function(t,e){t.monitorAgentInterval=e},RESET_MONITOR_AGENT_INTERVAL_HANDLE:function(t){t.monitorAgentInterval=null}}},bn=(n("4160"),n("caad"),n("c975"),n("a434"),n("b64b"),n("2532"),n("159b"),n("ac1f"),n("466d"),{getIpAddressForClient:function(){return Object(G["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("getIpAddressForClient() function entered"),t.prev=1,t.abrupt("return",new Promise((function(t){var e=window,n=new(e.RTCPeerConnection||e.mozRTCPeerConnection||e.webkitRTCPeerConnection)({iceServers:[]}),s=function(){};n.createDataChannel(""),n.createOffer((function(t){return n.setLocalDescription(t,s,s)}),s),n.onicecandidate=function(e){try{e.candidate.candidate.match(/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/g).forEach(t)}catch(n){}}})));case 5:throw t.prev=5,t.t0=t["catch"](1),t.t0;case 8:case"end":return t.stop()}}),t,null,[[1,5]])})))()},getTimerName:function(t,e){return e+"_"+t},getValueByKey:function(t,e,n,s){var o,a=t.length;for(o=0;o<a;o++)if(t[o][e]===n)return t[o][s];return null}});function _n(){return{calls:[],call_list_ucids:[],call_list_callIds:[],inboundCallList:[],outboundCallList:[],consultedCallList:[],activeCall:{ucid:"",callId:""}}}var Tn=_n(),Sn={getCallStatus:function(){return null},getPrimaryCall:function(){return null},getCalls:function(t){return t.calls},getCallIdArray:function(t){return t.call_list_callIds},getConsultedCallList:function(t){return t.consultedCallList},getInboundCallList:function(t){return t.inboundCallList},getActiveCallUcid:function(t){return t.activeCall.ucid},getActiveCallCallId:function(t){return t.activeCall.callId},getCallByUcid:function(t){return function(e){return t.calls[t.call_list_ucids.indexOf(e)]}},getCallByCallId:function(t){return function(e){return t.calls[t.call_list_callIds.indexOf(e)]}},getCallByIndex:function(t){return function(e){return t.calls[e]}},getCallIndex:function(t){return function(e){return console.log("getCallIndex():ucid="+e+", call_list_ucids="+JSON.stringify(t.call_list_ucids)),console.log("getCallIndex(): returning index="+t.call_list_ucids.indexOf(e)),t.call_list_ucids.indexOf(e)}},getCallIndexByCallId:function(t){return function(e){return console.log("getCallIndex():callId="+e+", call_list_callIds="+JSON.stringify(t.call_list_callIds)),console.log("getCallIndex(): returning index="+t.call_list_callIds.indexOf(e)),t.call_list_callIds.indexOf(e)}},getMultiCallState:function(t){return function(e){return console.log("getMultiCallState called. call[x]=",t.calls[t.call_list_callIds.indexOf(e)]),t.calls[t.call_list_callIds.indexOf(e)].multiCallState}},getAddressFromReference:function(t){return function(e,n){var s=t.calls[e];return n===s.callingAddressReference?s.callingAddress:n===s.calledAddressReference?s.calledAddress:n===s.thirdAddressReference?s.thirdAddress:n}}},In={sendQueryCallStateRequest:function(t){var e=t.getters,n=t.commit,s=e["session/getSessionId"];console.log("sendQueryCallStateRequest(): sessionId=",s);var o={sessionId:s};console.log("sendQueryCallStateRequest(): request: "+JSON.stringify(o)),this._vm.$socket.emit(T.GET_ACTIVE_CALLS,o,(function(t){return console.log("sendQueryCallStateRequest(): response: "+JSON.stringify(t)),"0"===t.responseCode&&n("SET_ASYNC_CALL_STATE",t.agentState),t}))},addCallToActiveCalls:function(t,e){var n=t.commit,s=t.getters,o=t.dispatch;return new Promise((function(t){var a=s.getCallByCallId(e.callId);if(console.log("addCallToActiveCalls(): existingCall="+JSON.stringify(a)),a)console.log("addCallToActiveCalls(): skipping ADD_CALL mutation since the call already exists"),t();else{o("addCallTimers",e.callId);var l=e;l.multiCallState=b.SINGLE,l.status=p.CREATED,l.type=h.INBOUND,l.callStartTime=new Date,l.callEndTime=null,l.thirdAddress=null,l.linkedCallId=null,l.callingAddressReference=null,l.calledAddressReference=null,l.thirdAddressReference=null,l.startTime=(new Date).getTime(),n("ADD_CALL",l),t()}}))},removeCallFromActiveCalls:function(t,e){var n=t.commit,s=t.getters,o=t.dispatch,a=Object(gn["a"])(e,2),l=a[0],i=a[1];n("RESET_ACTIVE_CALL",[l,i]),n("REMOVE_CALL_FROM_OUTBOUND_CALL_LIST",i),n("REMOVE_CALL_FROM_CONSULTED_CALL_LIST",i),n("REMOVE_CALL_FROM_INBOUND_CALL_LIST",i),n("REMOVE_CALL",s.getCallIndexByCallId(i)),o("removeTimer",bn.getTimerName(i,f.CALL_TIMER)),o("removeTimer",bn.getTimerName(i,f.IN_STATE_TIMER))},addCallTimers:function(t,e){var n=t.dispatch;n("addUpTimer",bn.getTimerName(e,f.CALL_TIMER)),n("addUpTimer",bn.getTimerName(e,f.IN_STATE_TIMER)),n("startTimer",bn.getTimerName(e,f.CALL_TIMER)),n("startTimer",bn.getTimerName(e,f.IN_STATE_TIMER))},setCallStateRinging:function(t,e){var n=t.commit,s=t.getters;n("SET_CALL_STATE_RINGING",s.getCallIndexByCallId(e.callId)),n("SET_ACTIVE_CALL",[e.ucid,e.callId])},setCallStateDialing:function(){},setCallStateTalking:function(t,e){var n=t.commit,s=t.getters;n("SET_CALL_STATE_TALKING",s.getCallIndexByCallId(e.callId)),n("SET_ACTIVE_CALL",[e.ucid,e.callId])},setCallStateHeld:function(t,e){var n=t.commit,s=t.getters;n("SET_CALL_STATE_HELD",s.getCallIndexByCallId(e.callId)),n("RESET_ACTIVE_CALL",[e.ucid,e.callId])},setCallStateDropped:function(t,e){var n=t.commit,s=t.dispatch,o=t.getters;n("SET_CALL_STATE_DROPPED",o.getCallIndexByCallId(e.callId)),e.callId===o.getActiveCallCallId&&n("RESET_ACTIVE_CALL",[e.ucid,e.callId]),s("setCallEndTime",e.callId)},processNewInboundCall:function(t,e){var n=t.commit,s=t.getters,o=t.dispatch;return Object(G["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o("addCallToActiveCalls",e);case 2:o("setCallStateRinging",e),n("ADD_CALL_TO_INBOUND_CALL_LIST",e.callId),a=s.getCallIndexByCallId(e.callId),n("SET_CALL_TYPE_INBOUND",a);case 6:case"end":return t.stop()}}),t)})))()},processNewConsultedCall:function(t,e){var n=t.commit,s=t.getters,o=t.dispatch;o("linkPrimaryAndConsultedCall",e),n("ADD_CALL_TO_CONSULTED_CALL_LIST",e.callId);var a=s.getCallIndexByCallId(e.callId);n("SET_CALL_TYPE_CONSULTED",a)},processNewOutboundCall:function(t,e){var n=t.commit,s=t.getters,o=t.dispatch,a=s.getCallIndexByCallId(e.callId);a>0?o("processNewConsultedCall",e):(n("ADD_CALL_TO_OUTBOUND_CALL_LIST",e.callId),n("SET_CALL_TYPE_OUTBOUND",a))},processConferenceConnectionDisconnect:function(t,e){var n=t.commit,s=t.getters,o=s.getCallIndexByCallId(e.callId);o>-1&&n("REMOVE_ADDRESS_FROM_CALL",[o,s.getAddressFromReference(o,e.callingAddress)])},resetCallState:function(t){var e=t.commit;e("RESET_CALL_STATUS"),e("RESET_CRM_DATA")},setCallStartTime:function(t,e){var n=t.commit,s=t.getters;n("SET_CALL_START_TIME",s.getCallIndexByCallId(e))},setCallEndTime:function(t,e){var n=t.commit,s=t.getters;n("SET_CALL_END_TIME",s.getCallIndexByCallId(e))},linkPrimaryAndConsultedCall:function(t,e){var n=t.commit,s=t.getters,o=s.getCallIdArray;if(o&&o.length>0){var a=s.getCallIndexByCallId(o[0]),l=s.getCallByCallId(o[0]),i=s.getCallIndexByCallId(e.callId),r=s.getCallByCallId(e.callId),c={primaryCallIndex:a,consultedCallIndex:i,primaryCallId:o[0],consultedCallId:e.callId,primaryCall:l,consultedCall:r};n("LINK_PRIMARY_CONSULTED_CALL",c),n("ADD_THIRD_ADDRESS_TO_CALL",[a,r]),n("ADD_THIRD_ADDRESS_TO_CALL",[i,l])}},addConsultedCallDetailsToPrimary:function(t,e){var n=t.commit,s=t.getters,o=s.getInboundCallList;if(o&&1===o.length){var a=s.getCallIndexByCallId(o[0]);n("ADD_CONSULTED_CALL_TO_PRIMARY",[a,e])}},removeConferenceCallFromPrimary:function(){},setMultiCallStateConferenced:function(t,e){var n=t.commit,s=t.getters;console.log("setMultiCallStateConferenced(): action entered: payload"+JSON.stringify(e));var o=s.getCallIndexByCallId(e.callId);if(null!==o){console.log("setMultiCallStateConferenced(): commiting mutation. callIndex="+o);var a={callAddressType:null,offSwitchAddress:null,callIndex:o};"T"===e.callingAddress.substring(0,1)&&(a.callAddressType="CALLING",a.offSwitchAddress=e.callingAddress,n("SET_OFF_SWITCH_ADDRESS",a)),"T"===e.calledAddress.substring(0,1)&&(a.callAddressType="CALLED",a.offSwitchAddress=e.calledAddress,n("SET_OFF_SWITCH_ADDRESS",a)),"T"===e.thirdAddress.substring(0,1)&&(a.callAddressType="THIRD",a.offSwitchAddress=e.thirdAddress,n("SET_OFF_SWITCH_ADDRESS",a)),n("SET_MULTI_CALL_STATE_CONFERENCED",[o,e])}else console.log("setMultiCallStateConferenced(): skiping mutation. callIndex="+o)},requestAnswerDropCall:function(t,e){var n=t.getters,s=t.dispatch,o=Object(gn["a"])(e,2),a=o[0],l=o[1],i={sessionId:n["session/getSessionId"],callId:a};if(console.log("requestAnswerDropCall(): request=",i),l===h.INBOUND){var r=n.getCallByCallId(a).status;switch(r){case p.RINGING:console.log("AnswerDropCall(): calling answerCall()"),s("requestAnswerCall",i);break;case p.TALKING:console.log("AnswerDropCall(): calling dropCall()"),s("requestDropCall",i);break;default:console.log("AnswerDropCall(): skipping answer or drop because call state is: "+p.Text[r]),s("showErrorBanner",["Cannot Disconnect","Please remove the call from hold, before attempting to disconnect"])}}else l===h.OUTBOUND&&s("requestDropCall",i)},requestAnswerCall:function(t,e){var n=t.getters,s=t.dispatch;console.log("requestAnswerCall(): action entered"),n.devMode?s("processAnswerCallResponse",{responseCode:"0",responseMessage:"success"}):(console.log("requestAnswerCall(): request="+JSON.stringify(e)),this._vm.$socket.emit(T.ANSWER_CALL,e,(function(t){s("processAnswerCallResponse",t)})))},requestDropCall:function(t,e){var n=t.dispatch;console.log(T.DROP_CALL+"(): request="+JSON.stringify(e)),this._vm.$socket.emit(T.DROP_CALL,e,(function(t){n("processDropCallResponse",t)}))},processAnswerCallResponse:function(t,e){var n=t.dispatch;console.log(T.ANSWER_CALL+"(): response="+JSON.stringify(e)),"0"===e.responseCode||n("showErrorBanner",["Call Answer Failed",e.responseMessage])},processDropCallResponse:function(t,e){var n=t.dispatch;console.log("processDropCallResponse(): response="+JSON.stringify(e)),"0"!==e.responseCode&&n("showErrorBanner",["Call Drop Failed",e.responseMessage])},requestHoldUnholdCall:function(t,e){var n=t.getters,s=t.dispatch;console.log("requestHoldUnholdCall(): action entered"+n.getCallByCallId);var o=n.getCallByCallId(e).status,a={sessionId:n["session/getSessionId"],agentId:n["getAgentCredentials"].agentId,deviceId:n["getAgentCredentials"].deviceId,callId:e};if(console.log("requestHoldUnholdCall(): primaryRequest=",a),o===p.HELD){var l=n.getActiveCallCallId;if(l){var i={sessionId:n["session/getSessionId"],agentId:n["getAgentCredentials"].agentId,deviceId:n["getAgentCredentials"].deviceId,callId:l};console.log("requestHoldUnholdCall(): holdActiveCallRequest=",a),s("requestHoldCall",i).then((function(){s("requestUnholdCall",a)}))}else console.log("requestHoldUnholdCall(): no active calls, so sending unhold request "+l),s("requestUnholdCall",a)}else s("requestHoldCall",a)},requestHoldCall:function(t,e){var n=this,s=t.dispatch;return new Promise((function(t,o){console.log("requestHoldCall():  request="+JSON.stringify(e)),n._vm.$socket.emit(T.HOLD_CALL,e,(function(e){console.log("requestHoldCall(): response="+JSON.stringify(e)),"0"===e.responseCode?t(e):(s("showErrorBanner",["Hold Call Failed",JSON.stringify(e)]),o(e))}))})).catch((function(t){console.error("requestHoldCall(): ",t)}))},requestUnholdCall:function(t){console.log("requestUnholdCall():  request="+JSON.stringify(t)),this._vm.$socket.emit(T.RETRIEVE_CALL,t,(function(t){console.log("requestUnholdCall(): response="+JSON.stringify(t)),"0"===t.responseCode||console.log("Call Unhold Failed"+JSON.stringify(t))}))}},vn={RESET_CALL_MODULE:function(t){Object.assign(t,_n())},ADD_CALL:function(t,e){t.calls.push(e),t.call_list_ucids.push(e.ucid),t.call_list_callIds.push(e.callId)},SET_CALL_STATE:function(t,e){var n=Object(gn["a"])(e,2),s=n[0],o=n[1];t.calls[s].status=o},SET_ACTIVE_CALL:function(t,e){var n=Object(gn["a"])(e,2),s=n[0],o=n[1];t.activeCall.ucid=s,t.activeCall.callId=o},RESET_ACTIVE_CALL:function(t,e){var n=Object(gn["a"])(e,2),s=n[0],o=n[1];t.activeCall.ucid===s&&(t.activeCall.ucid=null),t.activeCall.callId===o&&(t.activeCall.callId=null)},SET_CALL_START_TIME:function(t,e){t.calls[e].callStartTime=new Date},SET_CALL_END_TIME:function(t,e){t.calls[e].callEndTime=new Date},SET_CALL_STATE_RINGING:function(t,e){t.calls[e].status=p.RINGING},SET_CALL_STATE_DIALING:function(t,e){t.calls[e].status=p.DIALING},SET_CALL_STATE_TALKING:function(t,e){t.calls[e].status=p.TALKING},SET_CALL_STATE_HELD:function(t,e){t.calls[e].status=p.HELD},SET_CALL_STATE_DROPPED:function(t,e){null!=e&&-1!=e&&t.calls[e]&&(t.calls[e].status=p.DROPPED)},SET_CALL_TYPE_INBOUND:function(t,e){t.calls[e].type=h.INBOUND},SET_CALL_TYPE_CONSULTED:function(t,e){t.calls[e].type=h.CONSULTED},SET_MULTI_CALL_STATE_CONFERENCED:function(t,e){var n=Object(gn["a"])(e,1),s=n[0];t.calls[s].multiCallState=b.CONFERENCED},SET_OFF_SWITCH_ADDRESS:function(t,e){"CALLING"===e.callAddressType?t.calls[e.callIndex].callingAddressReference=e.offSwitchAddress:"CALLED"===e.callAddressType?t.calls[e.callIndex].calledAddressReference=e.offSwitchAddress:"THIRD"===e.callAddressType&&(t.calls[e.callIndex].thirdAddressReference=e.offSwitchAddress)},ADD_THIRD_ADDRESS_TO_CALL:function(t,e){var n=Object(gn["a"])(e,2),s=n[0],o=n[1],a=o;a.callDirection==h.INBOUND?(console.log("ADD_THIRD_ADDRESS_TO_CALL(): condition for call direction inbound. callDirection="+a.callDirection+", index="+s+", payload="+JSON.stringify(o)),t.calls[s].thirdAddress=a.callingAddress):(console.log("ADD_THIRD_ADDRESS_TO_CALL(): condition for call direction outbound. callDirection="+a.callDirection+", index="+s+", payload="+JSON.stringify(o)),t.calls[s].thirdAddress=a.calledAddress)},SET_CALL_TYPE_OUTBOUND:function(t,e){t.calls[e].type=h.OUTBOUND},LINK_PRIMARY_CONSULTED_CALL:function(t,e){t.calls[e.primaryCallIndex].multiCallState=b.CONSULTED,t.calls[e.consultedCallIndex].multiCallState=b.CONSULTED,t.calls[e.primaryCallIndex].linkedCallId=e.consultedCallId,t.calls[e.consultedCallIndex].linkedCallId=e.primaryCallId},ADD_CONSULTED_CALL_TO_PRIMARY:function(t,e){var n=Object(gn["a"])(e,2),s=n[0],o=n[1];t.calls[s].multiCallState=b.CONSULTED,t.calls[s].consultedCall=o},REMOVE_ADDRESS_FROM_CALL:function(t,e){var n=Object(gn["a"])(e,2),s=n[0],o=n[1];t.calls[s].multiCallState=b.SINGLE,o===t.calls[s].callingAddress?(t.calls[s].callingAddress=t.calls[s].thirdAddress,t.calls[s].callingAddressReference=t.calls[s].thirdAddressReference,t.calls[s].thirdAddress=null,t.calls[s].thirdAddressReference=null):o===t.calls[s].calledAddress?(t.calls[s].calledAddress=t.calls[s].thirdAddress,t.calls[s].calledAddressReference=t.calls[s].thirdAddressReference,t.calls[s].thirdAddress=null,t.calls[s].thirdAddressReference=null):o===t.calls[s].thirdAddress&&(t.calls[s].thirdAddress=null,t.calls[s].thirdAddressReference=null)},SWITCH_PRIMARY_CONSULTED_CALL_ADDRESS:function(t,e){t.calls[e].callingAddress=t.calls[e].consultedCall.calledAddress},ADD_CALL_TO_INBOUND_CALL_LIST:function(t,e){t.inboundCallList.includes(e)?console.log("ADD_CALL_TO_INBOUND_CALL_LIST(): callId does not exist in outboundCallList"):t.inboundCallList.push(e)},REMOVE_CALL_FROM_INBOUND_CALL_LIST:function(t,e){var n=t.inboundCallList.indexOf(e);-1!=n?t.inboundCallList.splice(n,1):console.log("REMOVE_CALL_FROM_INBOUND_CALL_LIST(): callId does not exist in inboundCallList")},ADD_CALL_TO_CONSULTED_CALL_LIST:function(t,e){t.consultedCallList.includes(e)||t.consultedCallList.push(e)},REMOVE_CALL_FROM_CONSULTED_CALL_LIST:function(t,e){var n=t.consultedCallList.indexOf(e);-1!=n?t.consultedCallList.splice(n,1):console.log("REMOVE_CALL_FROM_CONSULTED_CALL_LIST(): callId does not exist in consultedCallList")},ADD_CALL_TO_OUTBOUND_CALL_LIST:function(t,e){t.outboundCallList.includes(e)?console.log("ADD_CALL_TO_OUTBOUND_CALL_LIST(): callId does not exist in outboundCallList"):t.outboundCallList.push(e)},REMOVE_CALL_FROM_OUTBOUND_CALL_LIST:function(t,e){var n=t.outboundCallList.indexOf(e);-1!=n?t.outboundCallList.splice(n,1):console.log("REMOVE_CALL_FROM_OUTBOUND_CALL_LIST(): callId does not exist in outboundCallList")},REMOVE_CALL:function(t,e){-1!=e&&(t.call_list_ucids.splice(e,1),t.call_list_callIds.splice(e,1),t.calls.splice(e,1))},RESET_CALL_STATUS:function(t){var e=_n();Object.keys(e).forEach((function(n){t[n]=e[n]}))}},An={namespaced:!1,state:Tn,getters:Sn,mutations:vn,actions:In};function En(){return{}}var Ln={state:En,getters:{},actions:{processCallTransferDone:function(t){var e=t.commit;e("RESET_CALL_MODULE"),e("RESET_CONSULTED_CALL_MODULE")},processCallConferenceDone:function(t){t.commit},requestConsultCall:function(t,e){var n=this,s=t.getters;t.commit,t.dispatch;return new Promise((function(t,o){try{var a={sessionId:s["session/getSessionId"],primaryCallId:e,dialedNumber:s.getDialedDigits};console.log("requestConsultCall(): request="+JSON.stringify(a)),n._vm.$socket.emit(T.CONSULT_CALL,a,(function(e){console.log("requestConsultCall(): resp="+JSON.stringify(e)),e.responseCode,t(e)}))}catch(l){o(l)}}))},requestConferenceCall:function(t,e){var n=t.getters,s=t.dispatch,o={sessionId:n["session/getSessionId"],primaryCallId:e.callIdA,consultedCallId:e.callIdB};console.log("requestConferenceCall(): request="+JSON.stringify(o)),this._vm.$socket.emit(T.CONFERENCE_CALL,o,(function(t){console.log("requestConferenceCall(): resp="+JSON.stringify(t)),"0"===t.responseCode&&s("processCallConferenceDone",t)}))},requestTransferCall:function(t,e){var n=t.getters,s=t.dispatch,o={sessionId:n["session/getSessionId"],primaryCallId:e.callIdA,consultedCallId:e.callIdB};console.log("requestTransferCall(): request="+JSON.stringify(o)),this._vm.$socket.emit(T.TRANSFER_CALL,o,(function(t){console.log("requestTransferCall(): resp="+JSON.stringify(t)),"0"===t.responseCode&&s("processCallTransferDone",t)}))}},mutations:{RESET_CONSULTED_CALL_MODULE:function(t){Object.assign(t,En())}}};function Dn(){return{dialedDigits:null}}var On={namespaced:!1,state:Dn,getters:{getDialedDigits:function(t){return t.dialedDigits}},mutations:{RESET_DIALER_MODULE:function(t){Object.assign(t,Dn())},UPDATE_DIALED_DIGITS:function(t,e){t.dialedDigits=e}},actions:{updateDialedDigits:function(t,e){var n=t.commit;n("UPDATE_DIALED_DIGITS",e)},requestOutboundCall:function(t){var e=this,n=t.getters,s=t.dispatch;return Object(G["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,o){if(n.getDialedDigits){var a={sessionId:n["session/getSessionId"],dialedDigits:n.getDialedDigits};console.log("requestOutboundCall(): request="+JSON.stringify(a));try{e._vm.$socket.emit(T.MAKE_CALL,a,(function(e){console.log("requestOutboundCall(): resp="+JSON.stringify(e)),t(e)}))}catch(l){o(l)}}else s("showErrorBanner",["Outbound Call Not Made","Please enter a valid number"])})));case 1:case"end":return t.stop()}}),t)})))()}}},Nn=n("bc3a"),wn=n.n(Nn);function Rn(){return{ipAddress:"0.0.0.0",sessionId:null,config:null}}var yn={namespaced:!0,state:Rn,mutations:{RESET_SESSION_MODULE:function(t){Object.assign(t,Rn())},RESET_SESSION_ID:function(t){t.sessionId=null},SET_SESSION_ID:function(t,e){t.sessionId=e},SET_IP_ADDRESS:function(t,e){t.ipAddress=e},LOAD_CONFIG_FILE:function(t,e){t.config=e}},actions:{loadConfigurations:function(t){var e=t.commit;return wn.a.get("./settings.json").then((function(t){console.log("settings loaded. settings=",t.data),e("LOAD_CONFIG_FILE",t.data)}))},requestSessionFromServer:function(t){var e=this,n=t.getters,s=t.commit;return Object(G["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("requestSessionFromServer(): entered action"),t.abrupt("return",new Promise((function(t,o){var a={ipAddress:n.getIpAddress};console.log("requestSessionFromServer(): request="+JSON.stringify(a));try{e._vm.$socket.emit(T.GET_SESSION,a,(function(e){console.log("requestSessionFromServer():"+JSON.stringify(e)),s("SET_SESSION_ID",e.sessionId),t(e)}))}catch(l){o(l)}})));case 2:case"end":return t.stop()}}),t)})))()},updateIpAddress:function(t){var e=t.commit,n=t.dispatch,s=t.getters;return Object(G["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:bn.getIpAddressForClient().then((function(t){console.log("updateIpAddress(): received IP:",t),e("SET_IP_ADDRESS",t),null===s["session/getSessionId"]&&(console.log("updateIpAddress(): Getting SessionId for IP Address:"+t),n("session/requestSessionFromServer"))})).catch((function(t){console.error("updateIpAddress(): error="+t.message)}));case 1:case"end":return t.stop()}}),t)})))()},fetchExistingSessionFromServer:function(t){var e=this,n=t.getters,s=t.commit;return Object(G["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("fetchExistingSessionFromServer(): entered action"),t.abrupt("return",new Promise((function(t,o){var a=n["getSessionId"];if(a){var l={sessionId:a};console.log("fetchExistingSessionFromServer(): request="+JSON.stringify(l)),e._vm.$socket.emit(T.CHECK_SESSION,l,(function(e){console.log("fetchExistingSessionFromServer():"+JSON.stringify(e)),e&&e.sessionId?(s("SET_SESSION_ID",e.sessionId),s("SET_IP_ADDRESS",e.ipAddress),t(e)):(console.log("fetchExistingSessionFromServer(): skipping update Session ID since the response does not contain a session ID. resp=",JSON.stringify(e)),o(e))}))}else console.log("fetchExistingSessionFromServer(): skipping update Session ID since the browser does not have a SessionID. "),o()})));case 2:case"end":return t.stop()}}),t)})))()},resetSessionId:function(t){var e=t.commit;e("RESET_SESSION_ID")},sendRemoveSessionRequest:function(t){var e=this,n=t.getters,s=t.commit;new Promise((function(t){var o={sessionId:n["session/getSessionId"]};console.log("sendRemoveSessionRequest(): request"+JSON.stringify(o)),e._vm.$socket.emit(T.END_SESSION,o,(function(e){console.log("sendRemoveSessionRequest():"+JSON.stringify(e)),s("SET_SESSION_ID",e.sessionId),t(e)}))}))},addWindowRefreshReloadListener:function(){console.log("addWindowRefreshReloadListener(): entered action")}},getters:{getSessionId:function(t){return t.sessionId},getIpAddress:function(t){return t.ipAddress},getConfig:function(t){return t.config}}};function xn(){return{status:_.DISCONNECTED}}var kn={state:xn,mutations:{RESET_SOCKET_MODULE:function(t){Object.assign(t,xn())},SET_SOCKET_STATE_CONNECTED:function(t){t.status=_.CONNECTED},SET_SOCKET_STATE_DISCONNECTED:function(t){t.status=_.DISCONNECTED}},actions:{setSocketStateConnected:function(t){var e=t.commit,n=t.dispatch;e("SET_SOCKET_STATE_CONNECTED"),n("sendSessionRejoinEvent")},sendSessionRejoinEvent:function(t){var e=t.getters,n=e["session/getSessionId"];if(n){var s={sessionId:n};console.log("sendSessionRejoinEvent(): request="+JSON.stringify(s)),this._vm.$socket.emit(T.REJOIN_SESSION,s,(function(t){console.log("sendSessionRejoinEvent(): response="+JSON.stringify(t))}))}},setSocketStateDisconnected:function(t){var e=t.commit;e("SET_SOCKET_STATE_DISCONNECTED")},processSocketConnected:function(t){var e=t.getters,n=t.dispatch;n("setSocketStateConnected"),n("session/loadConfigurations"),n("startAgentStateMonitoring"),n("session/fetchExistingSessionFromServer",{root:!0}).then((function(t){console.log("processSocketConnected(): response received from fetchExistingSessionFromServer: resp="+JSON.stringify(t)),console.log("responseCode "+(0===t.responseCode?"Not ":"is ")+"zero. sessionID not retreived. sessionId="+e["session/getSessionId"]),"0"===t.responseCode&&e["session/getSessionId"].length?(console.log("processSocketConnected(): sending request for sendQueryAgentStateRequest"),n("sendQueryAgentStateRequest",{root:!0}),n("sendQueryCallStateRequest",{root:!0})):console.log("processSocketConnected(): skipping request for sendQueryAgentStateRequest")})).catch((function(){n("processAgentLogout")}))},SOCKET_DEVEVENT:function(t){console.log("SOCKET_DEVEVENT(): Received event: "+JSON.stringify(t))},SOCKET_TEST_CONN_DROPPED:function(t){console.log("SOCKET_TEST_CONN_DROPPED(): Received event: "+JSON.stringify(t))},SOCKET_TEST_TERM_CONN_DROPPED:function(t){console.log("SOCKET_TEST_TERM_CONN_DROPPED(): Received event: "+JSON.stringify(t))},SOCKET_ICALLRING:function(t,e){var n=t.dispatch;console.log("SOCKET_ICALLRING(): Received event: "+JSON.stringify(e)),n("processNewInboundCall",e)},SOCKET_ICALLTALK:function(t,e){var n=t.dispatch,s=t.getters;console.log("SOCKET_ICALLTALK(): Received event: "+JSON.stringify(e)),null!==s.getCallIndexByCallId(e.callId)?n("setCallStateTalking",e):console.log("SOCKET_ICALLTALK(): not identified for call OR conf call")},SOCKET_ICALLDISC:function(t,e){var n=t.dispatch,s=t.getters;console.log("SOCKET_ICALLDISC(): Received event: "+JSON.stringify(e)),null!==s.getCallIndexByCallId(e.callId)?n("setCallStateDropped",e):console.log("SOCKET_ICALLDISC(): no calls found for UCID:"+e.ucid)},SOCKET_ICALLHLD:function(t,e){var n=t.dispatch,s=t.getters;console.log("SOCKET_ICALLHLD(): Received event: "+JSON.stringify(e)),null!==s.getCallIndexByCallId(e.callId)?n("setCallStateHeld",e):console.log("SOCKET_ICALLHLD() call ID not found in list of calls")},SOCKET_CALLCONF:function(t,e){var n=t.dispatch,s=t.getters;console.log("SOCKET_CALLCONF(): Received event: "+JSON.stringify(e)),s.getCallIndexByCallId(e.callId)<0&&n("processNewConferenceCall",e),n("setMultiCallStateConferenced",e)},SOCKET_CONFCALLDISC:function(t,e){var n=t.dispatch;console.log("SOCKET_CONFCALLDISC(): Received event: "+JSON.stringify(e)),n("processConferenceConnectionDisconnect",e)},SOCKET_OUTCALLRING:function(t,e){var n=t.dispatch,s=t.getters;console.log("SOCKET_OUTCALLRING(): Received event: "+JSON.stringify(e)),s.getCallIndexByCallId(e.callId)<0?n("addCallToActiveCalls",e).then((function(){n("processNewOutboundCall",e),n("setCallStateRinging",e)})):n("setCallStateRinging",e)},SOCKET_OUTCALLTALK:function(t,e){var n=t.dispatch,s=t.getters;console.log("SOCKET_OUTCALLTALK(): Received event: "+JSON.stringify(e)),s.getCallIndexByCallId(e.callId)<0?n("addCallToActiveCalls",e).then((function(){n("processNewOutboundCall",e),n("setCallStateTalking",e)})):n("setCallStateTalking",e)},SOCKET_OUTCALLDISC:function(t,e){var n=t.dispatch;console.log("SOCKET_OUTCALLDISC(): Received event: "+JSON.stringify(e)),n("setCallStateDropped",e)},SOCKET_OUTCALLHLD:function(t,e){var n=t.dispatch;console.log("SOCKET_OUTCALLHLD(): Received event: "+JSON.stringify(e)),n("setCallStateHeld",e)},SOCKET_AGTUPDATED:function(t,e){var n=t.dispatch;console.log("SOCKET_AGTUPDATED(): Received event: "+JSON.stringify(e)),n("setAgentState",e.agentState)}},getters:{getSocketStatus:function(t){return t.status}}};function Mn(){return{timers:[],timerList:[]}}var Un={state:Mn,mutations:{RESET_TIMER_MODULE:function(t){Object.assign(t,Mn())},ADD_UP_TIMER:function(t,e){var n={state:C.STOP,direction:g.UP,refTime:(new Date).getTime()};t.timerList.push(e),t.timers.push(n)},ADD_DOWN_TIMER:function(t,e){var n={state:C.STOP,direction:g.DOWN,refTime:(new Date).getTime()};t.timerList.push(e),t.timers.push(n)},REMOVE_TIMER:function(t,e){var n=t.timerList.indexOf(e);-1!=n&&(t.timers.splice(n,1),t.timerList.splice(n,1))},STOP_TIMER:function(t,e){var n=t.timerList.indexOf(e);-1!=n?(t.timers[n].state=0,t.timers[n].refTime=null):console.log("STOP_TIMER(): skipping, since timer does not exist in state. timerName="+e)},START_TIMER:function(t,e){var n=t.timerList.indexOf(e);console.log("START_TIMER mutation called for index="+n+", timerName="+e),-1!=n?(t.timers[n].refTime=(new Date).getTime(),t.timers[n].state=1):console.log("START_TIMER(): skipping, since timer does not exist in state. timerName="+e)},PAUSE_TIMER:function(t,e){var n=t.timerList.indexOf(e);t.timers[n].refTime=(new Date).getTime(),t.timers[n].state=2},RESTART_TIMER:function(t,e){var n=t.timerList.indexOf(e);t.timers[n].refTime=(new Date).getTime(),t.timers[n].state=3,t.timers[n].refTime=(new Date).getTime()}},actions:{addUpTimer:function(t,e){var n=t.commit;n("ADD_UP_TIMER",e)},addDownTimer:function(t,e){var n=t.commit;n("ADD_DOWN_TIMER",e)},removeTimer:function(t,e){var n=t.commit;n("REMOVE_TIMER",e)},startTimer:function(t,e){var n=t.commit;n("START_TIMER",e)},stopTimer:function(t,e){var n=t.commit;n("STOP_TIMER",e)}},getters:{getTimers:function(t){return t.timers},getTimer:function(t){return function(e){var n=t.timerList.indexOf(e);return t.timers[n]}},getTimerIndex:function(t){return function(e){return t.timerList.indexOf(e)}},getTimerStatus:function(t){return function(e){return console.log("getters.getTimerStatus="+t[e].status),t[e].status}},getTimerExpiry:function(t){return function(e){return console.log("getTimerExpiry, timerName=",e),t[e].expiry}}}},Bn=n("b383"),Gn=n.n(Bn),Pn=wn.a.create({baseURL:"https://cors-anywhere.herokuapp.com/http://in.crm.kefu.mi.com/api",timeout:15e3}),$n={sendSmsRequestToGateway:function(t){return console.log("sendSmsRequestToGateway(): request received Request=",t),Pn.get("/bulksms?username=di78-agcnet&password=digimile&type=0&dlr=1&destination="+t.cli+"&source=AGCNTW&message="+t.message,{}).then((function(t){return console.log("sendSmsRequestToGateway() response=",t),t})).catch((function(t){throw console.log("sendSmsRequestToGateway() :  error=",t),t}))},testXiaomiApi:function(){console.log("testXiaomiApi(): request received Request=");var t={data:"eyJoZWFkZXIiOnsiYXBwaWQiOiJpbi1hdmF5YSIsInNpZ24iOiI3RjdGOTgzMEZFNzFENzc1MjU1MkZENjBBRkY0MTZCNCJ9LCJib2R5Ijoie1wic2VhcmNoVHlwZVwiOlwicGhvbmVcIixcInBob25lXCI6XCI5ODExOTc4Njc0XCIsXCJvcmRlcklkXCI6XCI1ODQ0N1wifSJ9"},e={"content-type":"application/x-www-form-urlencoded",appid:"in-avaya",sign:"7F7F9830FE71D7752552FD60AFF416B4",Accept:"application/json"};return Pn.post("/order/getOrderStatus",Gn.a.stringify(t),{headers:e}).then((function(t){return console.log("getAccountIdFromPhoneNumber() response=",t),t})).catch((function(t){throw console.log("getAccountIdFromPhoneNumber() :  error=",t),t}))}},Fn=wn.a.create({baseURL:"https://cors-anywhere.herokuapp.com/http://13.235.180.13/sugarcrm/rest/v11",timeout:15e3}),qn={sendSmsRequestToGateway:function(t){return console.log("sendSmsRequestToGateway(): request received Request=",t),Fn.get("/bulksms?username=di78-agcnet&password=digimile&type=0&dlr=1&destination="+t.cli+"&source=AGCNTW&message="+t.message,{}).then((function(t){return console.log("sendSmsRequestToGateway() response=",t),t})).catch((function(t){throw console.log("sendSmsRequestToGateway() :  error=",t),t}))},fetchOuathTokenForSugarCrm:function(){var t={grant_type:"password",client_id:"sugar",client_secret:"",username:"RohitS",password:"Tcs@1234",platform:"base"},e={"Content-Type":"application/json"};return console.log("getOauthToken(): request received"),Fn.post("/oauth2/token",t,{headers:e}).then((function(t){return console.log("getOauthToken() response=",t),console.log("getOauthToken() response.data.access_token=",t.data.access_token),t})).catch((function(t){throw console.log("getOauthToken() :  error=",t),t}))},getAccountIdFromPhoneNumber:function(t){console.log("getAccountIdFromPhoneNumber(): request received Request=",t);var e={filter:{array:{phone_office:t.body.phoneNumber}}},n={"Content-Type":"application/json","Oauth-Token":t.header.authToken};return Fn.post("/Accounts/filter",e,{headers:n}).then((function(t){return console.log("getAccountIdFromPhoneNumber() response=",t),t})).catch((function(t){throw console.log("getAccountIdFromPhoneNumber() :  error=",t),t}))}};function Wn(){return{crm:{access_token:null,accountId:null,computedUrl:"http://13.235.180.13/sugarcrm/"},uui:[{key:"CLI",value:""},{key:"UCID",value:""},{key:"Collected Digits",value:"-"},{key:"Split/Skill",value:""}],callerData:[{key:"Name",value:""},{key:"RMN",value:""},{key:"Credit Card.",value:""},{key:"Credit Card Type",value:""}]}}var Hn={state:Wn,mutations:{RESET_DATA_MODULE:function(t){Object.assign(t,Wn())},RESET_CRM_DATA:function(t){t.crm.accountId=null,t.crm.computedUrl="http://13.235.180.13/sugarcrm/"},SET_ACCESS_TOKEN:function(t,e){t.crm.access_token=e},SET_CALLER_ACCOUNT_ID:function(t,e){t.crm.accountId=e},SET_COMPUTED_URL:function(t,e){t.crm.computedUrl="http://13.235.180.13/sugarcrm/#Accounts/"+e},SET_UUI:function(t,e){t.uui[0].value=e.cli,t.uui[1].value=e.ucid,t.uui[3].value="CreditCard"},SET_CALLER_DATA:function(t,e){t.callerData[0].value="Suraj Raval",t.callerData[1].value=e.cli,t.callerData[2].value="5412 1234 4321 8888",t.callerData[3].value="Premium Rewards Plus"}},actions:{resetDummyData:function(t){var e=t.commit;e("RESET_DATA_MODULE")},setUui:function(t,e){var n=t.commit;n("SET_UUI",e)},setCallerData:function(t,e){var n=t.commit;n("SET_CALLER_DATA",e)},requestSendSms:function(t){$n.sendSmsRequestToGateway(t)},authenticateCrm:function(t){var e=t.commit,n=t.dispatch;return qn.fetchOuathTokenForSugarCrm().then((function(t){t&&t.data&&t.data.access_token?e("SET_ACCESS_TOKEN",t.data.access_token):n("showErrorBanner",["CRM error...","Sugar CRM authentication failure. Cannot retreive CRM data for screenpop"])}))},getAccountIdFromCli:function(t,e){var n=t.getters,s=t.commit,o=t.dispatch;new Promise((function(t,a){var l={header:{authToken:n.getSugarAccessToken},body:{phoneNumber:e}};qn.getAccountIdFromPhoneNumber(l).then((function(n){n.data.records.length>0?(s("SET_CALLER_ACCOUNT_ID",n.data.records[0].id),s("SET_COMPUTED_URL",n.data.records[0].id),t(n)):(o("showErrorBanner",["CRM Screenpop failed","We were unable to fetch a record for the number "+e]),a(n))})).catch((function(t){a(t)}))}))}},getters:{getCallerData:function(t){return t.callerData},getUui:function(t){return t.uui},getSugarAccessToken:function(t){return t.crm.access_token},getSugarAccountId:function(t){return t.crm.accountId},getComputedCrmUrl:function(t){return t.crm.computedUrl},getCrmUrl:function(){return"http://localhost:4000"}}},jn=n("14d9"),Kn=wn.a.create({baseURL:jn.AGS.MIDDLEWARE.URL,timeout:jn.AGS.MIDDLEWARE.TIMEOUT}),Jn={fetchLobFromDnis:function(t){return console.log("fetchLobFromDnis(): request received Request=",t),Kn.get("/api/lob/dnis/"+t.dnis,{}).then((function(t){return console.log("fetchLobFromDnis() response=",t),t.data})).catch((function(t){throw console.log("fetchLobFromDnis() :  error=",t),t}))},postCallDisposition:function(t){return Object(G["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("fetchLobFromDnis(): request received Request=",t),n={ucid:t.ucid,callId:t.callId,cli:t.cli,dnis:t.dnis,call_start_date_time:t.call_start_date_time,call_end_date_time:t.call_end_date_time,disposition:t.disposition,sub_disposition:t.sub_disposition},e.prev=2,e.next=5,Kn.post("/api/call/disposition",n,{});case 5:return s=e.sent,console.log("fetchLobFromDnis() response=",s),e.abrupt("return",s.data);case 10:throw e.prev=10,e.t0=e["catch"](2),console.log("fetchLobFromDnis() :  error=",e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))()}};function Vn(){return{lob_list:[]}}var Yn={namespaced:!1,state:Vn,getters:{getLobForCallId:function(t){return function(e){var n=bn.getValueByKey(t.lob_list,"callId",e,"lob");return n}}},mutations:{RESET_AGS_UTIL_MODULE:function(t){Object.assign(t,Vn())},SET_LOB:function(t,e){var n=Object(gn["a"])(e,2),s=n[0],o=n[1],a={callId:s,lob:o};t.lob_list.push(a)}},actions:{requestFetchLobFromDnis:function(t,e){var n=t.commit;return Object(G["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Jn.fetchLobFromDnis(e).then((function(t){n("SET_LOB",[e.callId,t.lob])}));case 1:case"end":return t.stop()}}),t)})))()},requestPostCallDisposition:function(t,e){t.commit;return Object(G["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Jn.postCallDisposition(e).then((function(t){return t}));case 1:case"end":return t.stop()}}),t)})))()}}},zn=new fn["a"]({key:"flair",storage:sessionStorage,modules:["agent","call","consultedCall","dialer","socket","timer","data","session","agsutil"]});s["default"].use(o["a"]);var Qn=new o["a"].Store({strict:!1,modules:{agent:hn,call:An,session:yn,socket:kn,timer:Un,data:Hn,consultedCall:Ln,dialer:On,agsutil:Yn},plugins:[zn.plugin],state:{sockets:{connect:function(){},connection_error:function(){this.state.socket.status=_.DISCONNECTED}}},actions:{showErrorBanner:function(t,e){var n=Object(gn["a"])(e,2),o=n[0],a=n[1];s["default"].notify({group:"error",title:o,text:a,duration:3e3})},resetAllModules:function(t){var e=t.commit;e("RESET_AGENT_MODULE"),e("RESET_CALL_MODULE"),e("RESET_CONSULTED_CALL_MODULE"),e("RESET_DATA_MODULE"),e("RESET_DIALER_MODULE"),e("session/RESET_SESSION_MODULE"),e("RESET_TIMER_MODULE"),e("RESET_AGS_UTIL_MODULE")}},mutations:{},getters:{}}),Xn=n("5132"),Zn=n.n(Xn),ts=n("42fb"),es=n("ee98"),ns=n.n(es),ss=n("616f");n("3c76"),n("becf");s["default"].use(ns.a),s["default"].use(o["a"]),s["default"].use(ts["a"]),s["default"].use(ct.a);var os=Object(ss["longClickDirective"])({delay:400,interval:50});s["default"].directive("longclick",os),s["default"].use(new Zn.a({debug:!0,connection:jn.FLAIR_SERVER_URL,vuex:{store:Qn,actionPrefix:"SOCKET_",mutationPrefix:"SOCKET_"}})),s["default"].use(Cn.a),s["default"].config.productionTip=!1,new s["default"]({router:un,store:Qn,render:function(t){return t(ot)}}).$mount("#app")},"597f":function(t,e,n){"use strict";var s=n("be8c"),o=n.n(s);o.a},"60d2":function(t,e,n){},"743f":function(t,e,n){},8481:function(t,e,n){t.exports=n.p+"img/flair_logo.a2ad9372.png"},"85ec":function(t,e,n){},"936b":function(t,e,n){},b191:function(t,e,n){},b2da:function(t,e,n){t.exports=n.p+"img/agc-logo_v2.cdda4bdb.jpg"},b334:function(t,e,n){},b3d9:function(t,e,n){},b59a:function(t,e,n){"use strict";var s=n("012a"),o=n.n(s);o.a},b7a6:function(t,e,n){"use strict";var s=n("936b"),o=n.n(s);o.a},be07:function(t,e,n){},be8c:function(t,e,n){},c0da:function(t,e,n){},c217:function(t,e,n){"use strict";var s=n("19e5"),o=n.n(s);o.a},c7a4:function(t,e,n){"use strict";var s=n("b3d9"),o=n.n(s);o.a},d113:function(t,e,n){"use strict";var s=n("be07"),o=n.n(s);o.a},d605:function(t,e,n){"use strict";var s=n("0ec2"),o=n.n(s);o.a},dad3:function(t,e,n){},dcae:function(t,e,n){"use strict";var s=n("b334"),o=n.n(s);o.a},df94:function(t,e,n){"use strict";var s=n("743f"),o=n.n(s);o.a},f767:function(t,e,n){"use strict";var s=n("19d7"),o=n.n(s);o.a},fe90:function(t,e,n){}});
//# sourceMappingURL=app.3ac91508.js.map